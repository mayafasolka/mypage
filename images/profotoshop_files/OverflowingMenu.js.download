function OverflowingMenu(){function C(a){var b=$("#"+g),h=b.addClass(d.settings.cssClasses.moreMenu);b.attr("role","menu");var e=0;a.each(function(a,b){a=$(b);b=a.outerWidth(!0);h.append(a);q(a,!1);a.is(u)||b>e&&(e=b)});a=c.offset().left;n.innerWidth()-a<=e&&(a=a+k-e);h.css("left",a+"px")}function v(){k=c.outerWidth(!0);var a=0<l.width()-r;r=l.width();a&&($("#"+g).children().each(function(a,b){$(b).insertBefore(c);q($(b),!1)}),c.hide());var b=Number.POSITIVE_INFINITY,h=l.width()-10,e=k;m.each(function(a,
c){var d=$(c);q($(c),!0);c=0;d.hasClass("moremenu-only")||(c=d.outerWidth(!0));if(a>=p||e+c>h||a<m.length-1&&e+c+k>h)return b=a,!1;e+=c});0<m.length-b&&window.innerWidth>w&&(c.css({display:"inline-block"}),C(m.filter(":gt("+(b-1)+")")))}function q(a,b){if(a.hasClass("l-menu-course")||a.hasClass("l-menu-project"))a.hasClass("moremenu-only")?b?a.hide():a.show():b?a.show():a.hide()}function x(){t&&clearTimeout(t);t=setTimeout(v,y)}function z(a){var b=$("#"+g),c=$(this.parentElement).children().first();
if(a.keyCode===CommonConstants.keyCodes.tab){var e=a.target.parentElement,d=e.parentElement;if(null==e.nextElementSibling||e.nextElementSibling.classList.contains("viewas-menu-header")||a.shiftKey)a.shiftKey?$(d).find("a:visible").first().is(":focus")&&($(d).find("a:visible").last().focus(),a.preventDefault()):($(d).find("a:visible").first().focus(),a.preventDefault())}a.keyCode===CommonConstants.keyCodes.escape&&(b.hide(),c.attr("aria-expanded",!1),b.off(f+" keydown",z),c.focus());a.type!==f&&a.which!==
CommonConstants.keyCodes.enter||setTimeout(function(){b.hide();c.attr("aria-expanded",!1)},0);a.stopPropagation()}function A(a){if(a.type===f||a.which===CommonConstants.keyCodes.enter){var b=$("#"+g),d=c.first("> .l-main-menu-lnk");"false"===$(".c-messages-popup").attr("aria-hidden")&&$(".c-messages__overlay").click();var e=c.offset().left;0>=n.innerWidth()-e&&(e=e+k-0);b.css("left",e+"px");setTimeout(function(){b.on("keydown "+f,z);b.find("a").first().focus()},0);b.is(":visible")&&a.type===f?(b.hide(),
d.children().first().attr("aria-expanded",!1)):(b.show(),d.children().first().attr("aria-expanded",!0))}}function B(a){var b=$("#"+g),d=c.first("> .l-main-menu-lnk");b.is(":visible")&&(a=$(a.target),c.find("> .l-main-menu-lnk").is(a)||c.find("> .l-main-menu-lnk").children().is(a)||(b.hide(),d.children().first().attr("aria-expanded",!1)))}var d=this,n=$(window),l,m,c,k,g,u,f,t,y,p,r,w;d.initialize=function(){f="click";y=d.settings.windowResizeTimeoutInMilliseconds;l=d.controls.mainMenu;m=d.controls.mainMenuItems;
c=d.controls.moreButton;g=d.settings.moreMenuId;u=d.settings.moreMenuItemsIgnoreClass||"";p=d.settings.maxNumberOfMainMenuItems;w=d.settings.minScreenWidth||0;r=l.width();"undefined"==typeof p&&(p=Number.POSITIVE_INFINITY);c.append('<ul id="'+g+'" style="display:none;position:absolute;"></ul>');c.hide();v();n.resize(x);c.first("> .l-main-menu-lnk").on(f+" keyup",A);$(document).on(f+" "+CommonTriggers.clickInInnerFrame,B)};d.uninitialize=function(){n.off("resize",x);c.first("> .l-main-menu-lnk").off(f+
" keyup",A);$(document).off(f+" "+CommonTriggers.clickInInnerFrame,B)};return d};
