function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function i(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l;function s(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function c(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(e,t,n,o){if(e){const i=d(e,t,n,o);return e[0](i)}}function d(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function u(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}function p(e,t,n,o,i,r){if(i){const l=d(t,n,o,r);e.p(l,i)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}const f="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function h(e,t){e.appendChild(t)}function $(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function b(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function x(){return w(" ")}function v(){return w("")}function _(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function k(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function T(e,t){t=""+t,e.data!==t&&(e.data=t)}function C(e,t,n){e.classList[n?"add":"remove"](t)}class S{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var o;this.e||(this.is_svg?this.e=(o=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",o)):this.e=y(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)$(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(g)}}let E;function F(e){E=e}function O(){if(!E)throw new Error("Function called outside component initialization");return E}function I(e){O().$$.before_update.push(e)}function L(e){O().$$.on_mount.push(e)}function A(){const e=O();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const r=function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}(t,n,{cancelable:o});return i.slice().forEach(t=>{t.call(e,r)}),!r.defaultPrevented}return!0}}function P(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e.call(this,t))}const U=[],R=[];let N=[];const B=[],D=Promise.resolve();let q=!1;function H(){q||(q=!0,D.then(j))}function M(e){N.push(e)}function z(e){B.push(e)}const V=new Set;let G=0;function j(){if(0!==G)return;const e=E;do{try{for(;G<U.length;){const e=U[G];G++,F(e),W(e.$$)}}catch(e){throw U.length=0,G=0,e}for(F(null),U.length=0,G=0;R.length;)R.pop()();for(let e=0;e<N.length;e+=1){const t=N[e];V.has(t)||(V.add(t),t())}N.length=0}while(U.length);for(;B.length;)B.pop()();q=!1,V.clear(),F(e)}function W(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}const K=new Set;let J;function Q(){J={r:0,c:[],p:J}}function X(){J.r||o(J.c),J=J.p}function Y(e,t){e&&e.i&&(K.delete(e),e.i(t))}function Z(e,t,n,o){if(e&&e.o){if(K.has(e))return;K.add(e),J.c.push(()=>{K.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function ee(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function te(e){e&&e.c()}function ne(e,n,r,l){const{fragment:s,after_update:c}=e.$$;s&&s.m(n,r),l||M(()=>{const n=e.$$.on_mount.map(t).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]}),c.forEach(M)}function oe(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];N.forEach(o=>-1===e.indexOf(o)?t.push(o):n.push(o)),n.forEach(e=>e()),N=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ie(t,i,r,l,s,c,a,d=[-1]){const u=E;F(t);const p=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(u?u.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:i.target||u.$$.root};a&&a(p.root);let m=!1;if(p.ctx=r?r(t,i.props||{},(e,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=i)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](i),m&&function(e,t){-1===e.$$.dirty[0]&&(U.push(e),H(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n}):[],p.update(),m=!0,o(p.before_update),p.fragment=!!l&&l(p.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);p.fragment&&p.fragment.l(e),e.forEach(g)}else p.fragment&&p.fragment.c();i.intro&&Y(t.$$.fragment),ne(t,i.target,i.anchor,i.customElement),j()}F(u)}class re{$destroy(){oe(this,1),this.$destroy=e}$on(t,n){if(!i(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const le=[];const se=window["contentarea-actionlist-configuration"],ce=function(t,n=e){let o;const i=new Set;function l(e){if(r(t,e)&&(t=e,o)){const e=!le.length;for(const e of i)e[1](),le.push(e,t);if(e){for(let e=0;e<le.length;e+=2)le[e][0](le[e+1]);le.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(r,s=e){const c=[r,s];return i.add(c),1===i.size&&(o=n(l)||e),r(t),()=>{i.delete(c),0===i.size&&o&&(o(),o=null)}}}}(Object.assign({i18n:{},kpiUrl:void 0,kpis:{},menuOptionItems:[],showAllUrl:null,resourcesUrl:null,singleResourceUrl:null,showOffice365InsteadOfOneDrive:!1,enableUploadFromOneDrive:!1,enableLinkingFromOneDrive:!1,cloudServiceSettings:{},recentCloudFiles:{},cloudFileIcons:{},courseId:null,folderId:null,filesStatus:[],filesForUpload:[],filesForUploadFromExternalSource:[],apiError:null,fileValidationSettings:{},fileRepoSettings:{},antiForgeryHeaderSettings:{},staticContentPath:"",pollingIntervalOfMultipleFilesUploadStatusInMilliseconds:3e3,plannerUrl:null},se));function ae(){let e;return ce.subscribe(t=>{e=t})(),e}function de(e){ce.update(t=>({...t,...e}))}function ue(t){let n,i,r,l,s,c,a;return{c(){n=y("button"),i=y("span"),r=y("span"),l=w(t[3]),k(r,"class",t[14]),k(i,"class","prom-button__text"),k(n,"aria-haspopup",t[6]),k(n,"aria-expanded",t[7]),k(n,"aria-label",t[10]),k(n,"aria-labelledby",t[9]),k(n,"aria-describedby",t[8]),k(n,"id",t[1]),k(n,"type",t[5]),k(n,"class",s="prom-button prom-button__"+t[0]+" "+t[2]+" "+t[12]+" "+t[13]),n.disabled=t[4],k(n,"data-active",t[11])},m(e,o){$(e,n,o),h(n,i),h(i,r),h(r,l),c||(a=[_(n,"click",t[19]),_(n,"focus",t[20]),_(n,"blur",t[21]),_(n,"keyup",t[22]),_(n,"keydown",t[23])],c=!0)},p(e,[t]){8&t&&T(l,e[3]),16384&t&&k(r,"class",e[14]),64&t&&k(n,"aria-haspopup",e[6]),128&t&&k(n,"aria-expanded",e[7]),1024&t&&k(n,"aria-label",e[10]),512&t&&k(n,"aria-labelledby",e[9]),256&t&&k(n,"aria-describedby",e[8]),2&t&&k(n,"id",e[1]),32&t&&k(n,"type",e[5]),12293&t&&s!==(s="prom-button prom-button__"+e[0]+" "+e[2]+" "+e[12]+" "+e[13])&&k(n,"class",s),16&t&&(n.disabled=e[4]),2048&t&&k(n,"data-active",e[11])},i:e,o:e,d(e){e&&g(n),c=!1,o(a)}}}function pe(e,t,n){let o,i,r,l,s,{type:c="basic"}=t,{iconOnly:a=!1}=t,{id:d}=t,{cssClass:u=""}=t,{text:p=""}=t,{large:m=!1}=t,{disabled:f=!1}=t,{loading:h=!1}=t,{htmlType:$="submit"}=t,{haspopup:g}=t,{expanded:b}=t,{ariaLabel:y}=t,{describedby:w}=t,{labelledby:x}=t;return e.$$set=e=>{"type"in e&&n(0,c=e.type),"iconOnly"in e&&n(15,a=e.iconOnly),"id"in e&&n(1,d=e.id),"cssClass"in e&&n(2,u=e.cssClass),"text"in e&&n(3,p=e.text),"large"in e&&n(16,m=e.large),"disabled"in e&&n(4,f=e.disabled),"loading"in e&&n(17,h=e.loading),"htmlType"in e&&n(5,$=e.htmlType),"haspopup"in e&&n(6,g=e.haspopup),"expanded"in e&&n(7,b=e.expanded),"ariaLabel"in e&&n(18,y=e.ariaLabel),"describedby"in e&&n(8,w=e.describedby),"labelledby"in e&&n(9,x=e.labelledby)},e.$$.update=()=>{32768&e.$$.dirty&&n(14,o=a?"prom-button__text--hidden":""),65536&e.$$.dirty&&n(13,i=m?"prom-button--large":""),131072&e.$$.dirty&&n(12,r=h?"prom-button--loading":""),131088&e.$$.dirty&&n(11,l=!h&&!f),294920&e.$$.dirty&&n(10,s=y||(a?p:void 0))},[c,d,u,p,f,$,g,b,w,x,s,l,r,i,o,a,m,h,y,function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)}]}class me extends re{constructor(e){super(),ie(this,e,pe,ue,r,{type:0,iconOnly:15,id:1,cssClass:2,text:3,large:16,disabled:4,loading:17,htmlType:5,haspopup:6,expanded:7,ariaLabel:18,describedby:8,labelledby:9})}}function fe(e){let t,n;return t=new me({props:{cssClass:"prom-icon-button "+e[17]+" "+e[15]+" "+e[4],disabled:e[0],haspopup:e[1],expanded:e[2],iconOnly:e[5],id:e[6],large:e[7],loading:e[8],text:e[9],type:e[11],htmlType:e[3],ariaLabel:e[12],labelledby:e[13],describedby:e[14]}}),t.$on("blur",e[29]),t.$on("click",e[30]),t.$on("focus",e[31]),t.$on("keyup",e[32]),t.$on("keydown",e[33]),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};163856&n[0]&&(o.cssClass="prom-icon-button "+e[17]+" "+e[15]+" "+e[4]),1&n[0]&&(o.disabled=e[0]),2&n[0]&&(o.haspopup=e[1]),4&n[0]&&(o.expanded=e[2]),32&n[0]&&(o.iconOnly=e[5]),64&n[0]&&(o.id=e[6]),128&n[0]&&(o.large=e[7]),256&n[0]&&(o.loading=e[8]),512&n[0]&&(o.text=e[9]),2048&n[0]&&(o.type=e[11]),8&n[0]&&(o.htmlType=e[3]),4096&n[0]&&(o.ariaLabel=e[12]),8192&n[0]&&(o.labelledby=e[13]),16384&n[0]&&(o.describedby=e[14]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function he(e){let t,n;return t=new me({props:{cssClass:"prom-icon-button "+e[16],disabled:e[0],haspopup:e[1],expanded:e[2],iconOnly:e[5],id:e[6],large:e[7],loading:e[8],text:e[9],type:e[11],htmlType:e[3],ariaLabel:e[12],labelledby:e[13],describedby:e[14]}}),t.$on("blur",e[24]),t.$on("click",e[25]),t.$on("focus",e[26]),t.$on("keyup",e[27]),t.$on("keydown",e[28]),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};65536&n[0]&&(o.cssClass="prom-icon-button "+e[16]),1&n[0]&&(o.disabled=e[0]),2&n[0]&&(o.haspopup=e[1]),4&n[0]&&(o.expanded=e[2]),32&n[0]&&(o.iconOnly=e[5]),64&n[0]&&(o.id=e[6]),128&n[0]&&(o.large=e[7]),256&n[0]&&(o.loading=e[8]),512&n[0]&&(o.text=e[9]),2048&n[0]&&(o.type=e[11]),8&n[0]&&(o.htmlType=e[3]),4096&n[0]&&(o.ariaLabel=e[12]),8192&n[0]&&(o.labelledby=e[13]),16384&n[0]&&(o.describedby=e[14]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function $e(e){let t,n;return t=new me({props:{cssClass:"prom-icon-button "+e[15]+" "+e[4],disabled:e[0],haspopup:e[1],expanded:e[2],id:e[6],large:e[7],loading:e[8],text:e[9],type:e[11],htmlType:e[3],ariaLabel:e[12],labelledby:e[13],describedby:e[14]}}),t.$on("blur",e[19]),t.$on("click",e[20]),t.$on("focus",e[21]),t.$on("keyup",e[22]),t.$on("keydown",e[23]),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};32784&n[0]&&(o.cssClass="prom-icon-button "+e[15]+" "+e[4]),1&n[0]&&(o.disabled=e[0]),2&n[0]&&(o.haspopup=e[1]),4&n[0]&&(o.expanded=e[2]),64&n[0]&&(o.id=e[6]),128&n[0]&&(o.large=e[7]),256&n[0]&&(o.loading=e[8]),512&n[0]&&(o.text=e[9]),2048&n[0]&&(o.type=e[11]),8&n[0]&&(o.htmlType=e[3]),4096&n[0]&&(o.ariaLabel=e[12]),8192&n[0]&&(o.labelledby=e[13]),16384&n[0]&&(o.describedby=e[14]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function ge(e){let t,n,o,i;const r=[$e,he,fe],l=[];function s(e,t){return e[10]&&e[5]?0:e[10]?1:2}return t=s(e),n=l[t]=r[t](e),{c(){n.c(),o=v()},m(e,n){l[t].m(e,n),$(e,o,n),i=!0},p(e,i){let c=t;t=s(e),t===c?l[t].p(e,i):(Q(),Z(l[c],1,1,()=>{l[c]=null}),X(),n=l[t],n?n.p(e,i):(n=l[t]=r[t](e),n.c()),Y(n,1),n.m(o.parentNode,o))},i(e){i||(Y(n),i=!0)},o(e){Z(n),i=!1},d(e){l[t].d(e),e&&g(o)}}}function be(e,t,n){let o,i,r,{disabled:l=!1}=t,{haspopup:s}=t,{expanded:c}=t,{htmlType:a="submit"}=t,{iconClass:d=""}=t,{iconOnly:u=!1}=t,{iconPlacement:p="start"}=t,{id:m}=t,{large:f=!1}=t,{loading:h=!1}=t,{text:$=""}=t,{textOnly:g=!1}=t,{type:b="basic"}=t,{ariaLabel:y}=t,{labelledby:w}=t,{describedby:x}=t;return e.$$set=e=>{"disabled"in e&&n(0,l=e.disabled),"haspopup"in e&&n(1,s=e.haspopup),"expanded"in e&&n(2,c=e.expanded),"htmlType"in e&&n(3,a=e.htmlType),"iconClass"in e&&n(4,d=e.iconClass),"iconOnly"in e&&n(5,u=e.iconOnly),"iconPlacement"in e&&n(18,p=e.iconPlacement),"id"in e&&n(6,m=e.id),"large"in e&&n(7,f=e.large),"loading"in e&&n(8,h=e.loading),"text"in e&&n(9,$=e.text),"textOnly"in e&&n(10,g=e.textOnly),"type"in e&&n(11,b=e.type),"ariaLabel"in e&&n(12,y=e.ariaLabel),"labelledby"in e&&n(13,w=e.labelledby),"describedby"in e&&n(14,x=e.describedby)},e.$$.update=()=>{1056&e.$$.dirty[0]&&u&&g&&console.warn("The attributes iconOnly and textOnly cannot be both set to false."),262144&e.$$.dirty[0]&&(!p||"string"!=typeof p||"start"!==p&&"end"!==p)&&console.warn('Valid values for iconPlacement is "start" and "end".'),32&e.$$.dirty[0]&&n(17,o=u?"prom-icon-button--icon-only":""),1024&e.$$.dirty[0]&&n(16,i=g?"prom-icon-button--text-only":""),262144&e.$$.dirty[0]&&n(15,r="end"===p?"prom-icon-button--icon-end":"")},[l,s,c,a,d,u,m,f,h,$,g,b,y,w,x,r,i,o,p,function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)}]}class ye extends re{constructor(e){super(),ie(this,e,be,ge,r,{disabled:0,haspopup:1,expanded:2,htmlType:3,iconClass:4,iconOnly:5,iconPlacement:18,id:6,large:7,loading:8,text:9,textOnly:10,type:11,ariaLabel:12,labelledby:13,describedby:14},null,[-1,-1])}}const we="Down",xe="Enter",ve="Escape",_e="Left",ke="Right",Te="Space",Ce="Tab",Se="Up",Ee="Backspace";function Fe(e){switch(e){case"Down":case"ArrowDown":return we;case"Left":case"ArrowLeft":return _e;case"Right":case"ArrowRight":return ke;case"Up":case"ArrowUp":return Se;case"Enter":return xe;case"Esc":case"Escape":return ve;case"Spacebar":case" ":return Te;case"Tab":return Ce;case"Backspace":return Ee;default:return e}}const Oe=['[aria-hidden="true"]',"[disabled]","[hidden]",'[type="hidden"]','[tabindex="-1"]'].map(e=>`:not(${e})`).join(""),Ie=["button",'[role="button"]',"a[href]","input","[contentEditable=true]","select","textarea","iframe",'[tabindex="0"]',"audio","video"].map(e=>`${e}${Oe}`).join(",");class Le{constructor(e){this.tabbables=[],this.element=e,this.innerDocBody=null,this.element.addEventListener("keydown",this.maybeLoopFocus.bind(this))}teardown(){this.element.removeEventListener("keydown",this.maybeLoopFocus),this.innerDocBody&&this.innerDocBody.removeEventListener("keydown",this.maybeLoopFocus.bind(this))}init(){const e=Ae(this.element.querySelectorAll(Ie));this.firstTabbable=e[0],this.lastTabbable=e[e.length-1]}maybeLoopFocus(e){"Tab"===e.key&&(e.shiftKey||e.target!==this.lastTabbable||(e.preventDefault(),this.firstTabbable.focus()),e.shiftKey&&e.target===this.firstTabbable&&(e.preventDefault(),this.lastTabbable.focus()))}updateLastTabbableIfIframeIsTheLastElement(e){this.innerDocBody=e;const t=Ae(e.querySelectorAll(Ie));0===t.length?this.lastTabbable=e:this.lastTabbable=t[t.length-1],e.addEventListener("keydown",this.maybeLoopFocus.bind(this))}}function Ae(e){return[].filter.call(e,e=>"hidden"!==e.style.visibility&&"none"!==e.style.display)}function Pe(e){e.querySelector("li > .prom-dropdown__listitem").focus()}function Ue(e){e.children[e.children.length-1].querySelector(".prom-dropdown__listitem").focus()}function Re(){const e=document.querySelector(".prom-dropdown__listitems-menu.open");e&&(e.focus(),Ne())}function Ne(){const e=document.querySelector(".prom-dropdown__listitems-menu.open");e&&e.classList.remove("open")}function Be(e){e.setAttribute("hidden","hidden")}function De(e){return e&&e.hasAttribute("hidden")}function qe(){const e=Array.prototype.slice.call(document.querySelectorAll(".prom-dropdown__submenu"));for(let t=0;t<e.length;t++)Be(e[t]);const t=document.querySelectorAll(".prom-dropdown__listitems-menu");for(let e=0;e<t.length;e++)t[e].setAttribute("aria-expanded","false")}function He(e){return e.classList.contains("prom-dropdown__listitems-menu")}function Me(e){let t,n;return{c(){t=y("span"),k(t,"class",n=e[0].iconCssClass)},m(e,n){$(e,t,n)},p(e,o){1&o&&n!==(n=e[0].iconCssClass)&&k(t,"class",n)},d(e){e&&g(t)}}}function ze(e){let t,n,o,i;return{c(){t=y("img"),k(t,"alt",""),k(t,"class","prom-dropdown__listitems-icon"),s(t.src,n=e[0].icon)||k(t,"src",n),k(t,"height",o=e[0].iconsize),k(t,"width",i=e[0].iconsize)},m(e,n){$(e,t,n)},p(e,r){1&r&&!s(t.src,n=e[0].icon)&&k(t,"src",n),1&r&&o!==(o=e[0].iconsize)&&k(t,"height",o),1&r&&i!==(i=e[0].iconsize)&&k(t,"width",i)},d(e){e&&g(t)}}}function Ve(e){let t;return{c(){t=w("…")},m(e,n){$(e,t,n)},d(e){e&&g(t)}}}function Ge(t){let n,i,r,l,s,c,a,d,u,p=t[0].label+"";function m(e,t){return e[0].icon?ze:e[0].iconCssClass?Me:void 0}let f=m(t),b=f&&f(t),v=t[0].ellipsis&&Ve();return{c(){n=y("a"),b&&b.c(),i=x(),r=y("span"),l=w(p),s=x(),v&&v.c(),k(r,"class","prom-dropdown__listitems-text"),k(n,"class","prom-dropdown__listitem prom-dropdown__listitem-link"),k(n,"href",c=t[0].url),k(n,"tabindex","-1"),k(n,"target",a=t[0].target?t[0].target:"mainmenu")},m(e,o){$(e,n,o),b&&b.m(n,null),h(n,i),h(n,r),h(r,l),h(r,s),v&&v.m(r,null),d||(u=[_(n,"click",t[2]),_(n,"mouseenter",t[3]),_(n,"mouseleave",t[4])],d=!0)},p(e,[t]){f===(f=m(e))&&b?b.p(e,t):(b&&b.d(1),b=f&&f(e),b&&(b.c(),b.m(n,i))),1&t&&p!==(p=e[0].label+"")&&T(l,p),e[0].ellipsis?v||(v=Ve(),v.c(),v.m(r,null)):v&&(v.d(1),v=null),1&t&&c!==(c=e[0].url)&&k(n,"href",c),1&t&&a!==(a=e[0].target?e[0].target:"mainmenu")&&k(n,"target",a)},i:e,o:e,d(e){e&&g(n),b&&b.d(),v&&v.d(),d=!1,o(u)}}}function je(e,t,n){const o=A();let{option:i=null}=t;return e.$$set=e=>{"option"in e&&n(0,i=e.option)},[i,o,e=>o("dropdownClose",e),e=>o("mouseenter",{event:e,data:i}),e=>o("mouseleave",{event:e,data:i})]}class We extends re{constructor(e){super(),ie(this,e,je,Ge,r,{option:0})}}function Ke(e){let t,n;return{c(){t=y("span"),k(t,"class",n=e[3].iconCssClass)},m(e,n){$(e,t,n)},p(e,o){8&o&&n!==(n=e[3].iconCssClass)&&k(t,"class",n)},d(e){e&&g(t)}}}function Je(e){let t,n,o,i;return{c(){t=y("img"),k(t,"alt",""),k(t,"class","prom-dropdown__listitems-icon"),s(t.src,n=e[3].icon)||k(t,"src",n),k(t,"height",o=e[3].iconsize),k(t,"width",i=e[3].iconsize)},m(e,n){$(e,t,n)},p(e,r){8&r&&!s(t.src,n=e[3].icon)&&k(t,"src",n),8&r&&o!==(o=e[3].iconsize)&&k(t,"height",o),8&r&&i!==(i=e[3].iconsize)&&k(t,"width",i)},d(e){e&&g(t)}}}function Qe(e){let t;return{c(){t=w("…")},m(e,n){$(e,t,n)},d(e){e&&g(t)}}}function Xe(t){let n,i,r,l,s,c,a,d,u,p,m,f=t[3].label+"";function b(e,t){return e[3].icon?Je:e[3].iconCssClass?Ke:void 0}let v=b(t),C=v&&v(t),S=t[3].ellipsis&&Qe();return{c(){n=y("button"),C&&C.c(),i=x(),r=y("span"),l=w(f),s=x(),S&&S.c(),c=x(),a=y("span"),k(r,"class","prom-dropdown__listitems-text"),k(a,"class","prom-dropdown__listitems-menuicon"),k(n,"class",d="prom-dropdown__listitem prom-dropdown__listitem-action "+t[0]),k(n,"tabindex","-1"),k(n,"type","button"),k(n,"aria-haspopup",t[2]),k(n,"aria-expanded",u=t[2]?t[1]:null)},m(e,o){$(e,n,o),C&&C.m(n,null),h(n,i),h(n,r),h(r,l),h(r,s),S&&S.m(r,null),h(n,c),h(n,a),p||(m=[_(n,"click",t[5]),_(n,"mouseenter",t[6]),_(n,"mouseleave",t[7])],p=!0)},p(e,[t]){v===(v=b(e))&&C?C.p(e,t):(C&&C.d(1),C=v&&v(e),C&&(C.c(),C.m(n,i))),8&t&&f!==(f=e[3].label+"")&&T(l,f),e[3].ellipsis?S||(S=Qe(),S.c(),S.m(r,null)):S&&(S.d(1),S=null),1&t&&d!==(d="prom-dropdown__listitem prom-dropdown__listitem-action "+e[0])&&k(n,"class",d),4&t&&k(n,"aria-haspopup",e[2]),6&t&&u!==(u=e[2]?e[1]:null)&&k(n,"aria-expanded",u)},i:e,o:e,d(e){e&&g(n),C&&C.d(),S&&S.d(),p=!1,o(m)}}}function Ye(e,t,n){const o=A();let{cssClass:i=""}=t,{expanded:r=!1}=t,{hasPopup:l=!1}=t,{option:s=null}=t;return e.$$set=e=>{"cssClass"in e&&n(0,i=e.cssClass),"expanded"in e&&n(1,r=e.expanded),"hasPopup"in e&&n(2,l=e.hasPopup),"option"in e&&n(3,s=e.option)},[i,r,l,s,o,e=>o("click",{event:e,data:s}),e=>o("mouseenter",{event:e,data:s}),e=>o("mouseleave",{event:e,data:s})]}class Ze extends re{constructor(e){super(),ie(this,e,Ye,Xe,r,{cssClass:0,expanded:1,hasPopup:2,option:3})}}const et=window.navigator.userAgent;function tt(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(et)}function nt(e){const t=e.parentElement.parentElement.parentElement.children;if(0===t.length)return;const n=[];for(let e=0;e<t.length;e++){const o=t[e];"ul"===o.nodeName.toLowerCase()&&n.push(o)}return n}function ot(e,t,n){const o=e.slice();return o[17]=t[n],o[19]=n,o}function it(e){let t,n;return t=new Ze({props:{option:e[0],hasPopup:!1}}),t.$on("click",e[11]),t.$on("mouseenter",e[2]),t.$on("mouseleave",e[3]),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.option=e[0]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function rt(e){let t,n,o,i,r;t=new Ze({props:{option:e[0],cssClass:"prom-dropdown__listitems-menu",hasPopup:!0}}),t.$on("click",e[1]),t.$on("mouseenter",e[2]),t.$on("mouseleave",e[3]);let l=e[0].items,s=[];for(let t=0;t<l.length;t+=1)s[t]=st(ot(e,l,t));const c=e=>Z(s[e],1,1,()=>{s[e]=null});return{c(){te(t.$$.fragment),n=x(),o=y("section"),i=y("section");for(let e=0;e<s.length;e+=1)s[e].c();k(i,"class","prom-dropdown__body"),o.hidden=!0,k(o,"class","prom-dropdown prom-dropdown__submenu")},m(e,l){ne(t,e,l),$(e,n,l),$(e,o,l),h(o,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(i,null);r=!0},p(e,n){const o={};if(1&n&&(o.option=e[0]),t.$set(o),1&n){let t;for(l=e[0].items,t=0;t<l.length;t+=1){const o=ot(e,l,t);s[t]?(s[t].p(o,n),Y(s[t],1)):(s[t]=st(o),s[t].c(),Y(s[t],1),s[t].m(i,null))}for(Q(),t=l.length;t<s.length;t+=1)c(t);X()}},i(e){if(!r){Y(t.$$.fragment,e);for(let e=0;e<l.length;e+=1)Y(s[e]);r=!0}},o(e){Z(t.$$.fragment,e),s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Z(s[e]);r=!1},d(e){oe(t,e),e&&g(n),e&&g(o),b(s,e)}}}function lt(e){let t,n;return t=new We({props:{option:e[0]}}),t.$on("dropdownClose",e[7]),t.$on("mouseenter",e[2]),t.$on("mouseleave",e[3]),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.option=e[0]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function st(e){let t,n;return t=new gt({props:{index:e[19],list:e[17],isSubmenu:"true"}}),t.$on("click",e[8]),t.$on("dropdownClose",e[9]),t.$on("keyup",e[10]),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.list=e[17]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function ct(e){let t,n,i,r,l,s,c;const a=[lt,rt,it],d=[];function u(e,t){return e[0].link?0:e[0].items?1:2}return n=u(e),i=d[n]=a[n](e),{c(){t=y("li"),i.c(),k(t,"class",r="prom-dropdown__listitems "+(e[0].cssClass||"")),k(t,"role","menuitem"),C(t,"prom-dropdown__listitems--divider",e[0].divider),C(t,"prom-dropdown__listitems--menu",e[0].items)},m(o,i){$(o,t,i),d[n].m(t,null),l=!0,s||(c=[_(t,"keyup",e[5]),_(t,"keydown",e[4])],s=!0)},p(e,[o]){let s=n;n=u(e),n===s?d[n].p(e,o):(Q(),Z(d[s],1,1,()=>{d[s]=null}),X(),i=d[n],i?i.p(e,o):(i=d[n]=a[n](e),i.c()),Y(i,1),i.m(t,null)),(!l||1&o&&r!==(r="prom-dropdown__listitems "+(e[0].cssClass||"")))&&k(t,"class",r),(!l||1&o)&&C(t,"prom-dropdown__listitems--divider",e[0].divider),(!l||1&o)&&C(t,"prom-dropdown__listitems--menu",e[0].items)},i(e){l||(Y(i),l=!0)},o(e){Z(i),l=!1},d(e){e&&g(t),d[n].d(),s=!1,o(c)}}}function at(e,t,n){let{isSubmenu:o=!1}=t,{option:i=null}=t;function r(e){(function(e){const t=e.parentElement.nextElementSibling;return!!t&&(t.querySelector(".prom-dropdown__listitem").focus(),!0)})(e)||function(e){const t=nt(e);t.length<=1&&Pe(t[0]);let n=e.parentElement.parentElement.nextElementSibling;n?("ul"!==n.nodeName.toLowerCase()&&(n=n.nextElementSibling),Pe(n)):Pe(t[0])}(e)}function l(e){(function(e){const t=e.parentElement.previousElementSibling;return!!t&&(t.querySelector(".prom-dropdown__listitem").focus(),!0)})(e)||function(e){const t=nt(e);if(t.length<=1)Ue(t[0]);else{let n=e.parentElement.parentElement.previousElementSibling;n?("h2"===n.nodeName.toLowerCase()&&(n=n.previousElementSibling),"ul"===n.nodeName.toLowerCase()?Ue(n):Ue(t[t.length-1])):Ue(t[t.length-1])}}(e)}function s(e,t,n){qe(),Ne(),function(e){if(e.style.right=null,e.style.left=null,e.style.top=null,window.innerWidth>480){const t=e.parentElement.getBoundingClientRect(),n=function(e,t){for(;null!==e.parentElement;)if((e=e.parentElement).classList.contains(t))return e;return null}(e,"prom-dropdown__body");window.innerWidth-t.right>=t.width?e.style.left=t.width+"px":e.style.right=t.width+"px",e.style.top=t.top-n.getBoundingClientRect().top-5+"px"}e.removeAttribute("hidden")}(t),e.classList.add("open"),e.setAttribute("aria-expanded",!0),n||Pe(t)}function c(e,t){if(!De(e)){Be(e);const n=document.querySelector(".prom-dropdown__listitems-menu.open");n.setAttribute("aria-expanded",!1),n.classList.remove("open"),t||Re()}}function a(e,t,n){De(t)?s(e,t,n):c(t,!0)}return e.$$set=e=>{"isSubmenu"in e&&n(6,o=e.isSubmenu),"option"in e&&n(0,i=e.option)},[i,function({detail:{event:e}}){a(e.currentTarget,e.currentTarget.nextElementSibling,!1)},function({detail:{event:e}}){if(tt())return;const t=e.currentTarget,n=e.currentTarget.nextElementSibling;He(t)?s(t,n,!0):o||qe()},function({detail:{event:e}}){if(tt())return;const t=e.currentTarget.nextElementSibling;o||!t||t.contains(e.relatedTarget)||c(t,!1)},function(e){const{key:t}=e,n=e.target;switch(Fe(t)){case Se:e.preventDefault(),l(n);break;case we:e.preventDefault(),r(n);break;default:return}},function(e){const{key:t}=e,n=e.target,o=e.target.nextElementSibling;switch(Fe(t)){case _e:qe(),Re();break;case ke:He(n)&&a(n,o,!1);break;default:return}},o,function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)}]}class dt extends re{constructor(e){super(),ie(this,e,at,ct,r,{isSubmenu:6,option:0})}}function ut(){const e=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=0;return"xxxx-xx-xx-xx-xxxxxx".replace(/x/g,()=>{const n=("0"+e[t].toString(16)).slice(-2);return t+=1,n})}function pt(e,t,n){const o=e.slice();return o[8]=t[n],o}function mt(e){let t,n,o,i=e[3].label+"";return{c(){t=y("h2"),n=w(i),k(t,"id",o=""+(e[0]+(e[1]+1))),k(t,"class","prom-dropdown__listheader")},m(e,o){$(e,t,o),h(t,n)},p(e,r){8&r&&i!==(i=e[3].label+"")&&T(n,i),3&r&&o!==(o=""+(e[0]+(e[1]+1)))&&k(t,"id",o)},d(e){e&&g(t)}}}function ft(e){let t,n;return t=new dt({props:{isSubmenu:e[2],option:e[8]}}),t.$on("dropdownClose",e[5]),t.$on("click",e[6]),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.isSubmenu=e[2]),8&n&&(o.option=e[8]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function ht(e){let t,n,o,i,r,l,s=e[3].label&&mt(e),c=e[3].options,a=[];for(let t=0;t<c.length;t+=1)a[t]=ft(pt(e,c,t));const d=e=>Z(a[e],1,1,()=>{a[e]=null});return{c(){s&&s.c(),t=x(),n=y("ul");for(let e=0;e<a.length;e+=1)a[e].c();k(n,"aria-labelledby",o=e[3].label?e[0]+(e[1]+1):null),k(n,"role","menu")},m(o,c){s&&s.m(o,c),$(o,t,c),$(o,n,c);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(n,null);i=!0,r||(l=_(n,"keyup",e[7]),r=!0)},p(e,[r]){if(e[3].label?s?s.p(e,r):(s=mt(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),12&r){let t;for(c=e[3].options,t=0;t<c.length;t+=1){const o=pt(e,c,t);a[t]?(a[t].p(o,r),Y(a[t],1)):(a[t]=ft(o),a[t].c(),Y(a[t],1),a[t].m(n,null))}for(Q(),t=c.length;t<a.length;t+=1)d(t);X()}(!i||11&r&&o!==(o=e[3].label?e[0]+(e[1]+1):null))&&k(n,"aria-labelledby",o)},i(e){if(!i){for(let e=0;e<c.length;e+=1)Y(a[e]);i=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)Z(a[e]);i=!1},d(e){s&&s.d(e),e&&g(t),e&&g(n),b(a,e),r=!1,l()}}}function $t(e,t,n){const o=A();let{id:i=ut()}=t,{index:r=0}=t,{isSubmenu:l=!1}=t,{list:s=null}=t;return e.$$set=e=>{"id"in e&&n(0,i=e.id),"index"in e&&n(1,r=e.index),"isSubmenu"in e&&n(2,l=e.isSubmenu),"list"in e&&n(3,s=e.list)},[i,r,l,s,o,function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},e=>o("keyup",e)]}class gt extends re{constructor(e){super(),ie(this,e,$t,ht,r,{id:0,index:1,isSubmenu:2,list:3})}}const bt=e=>({}),yt=e=>({}),wt=e=>({}),xt=e=>({});function vt(e,t,n){const o=e.slice();return o[20]=t[n],o[22]=n,o}const _t=e=>({}),kt=e=>({});function Tt(e){let t;const n=e[16].body,o=a(n,e,e[15],xt);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,i){o&&o.p&&(!t||32768&i)&&p(o,n,e,e[15],t?u(n,e[15],i,wt):m(e[15]),xt)},i(e){t||(Y(o,e),t=!0)},o(e){Z(o,e),t=!1},d(e){o&&o.d(e)}}}function Ct(e){let t,n,o=e[1],i=[];for(let t=0;t<o.length;t+=1)i[t]=St(vt(e,o,t));const r=e=>Z(i[e],1,1,()=>{i[e]=null});return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=v()},m(e,o){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,o);$(e,t,o),n=!0},p(e,n){if(771&n){let l;for(o=e[1],l=0;l<o.length;l+=1){const r=vt(e,o,l);i[l]?(i[l].p(r,n),Y(i[l],1)):(i[l]=St(r),i[l].c(),Y(i[l],1),i[l].m(t.parentNode,t))}for(Q(),l=o.length;l<i.length;l+=1)r(l);X()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)Y(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Z(i[e]);n=!1},d(e){b(i,e),e&&g(t)}}}function St(e){let t,n;return t=new gt({props:{id:e[0],index:e[22],list:e[20]}}),t.$on("click",e[9]),t.$on("dropdownClose",e[17]),t.$on("keyup",e[8]),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.id=e[0]),2&n&&(o.list=e[20]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Et(e){let t,n,i,r,l,s,c,d,f,b,w,v,T,C,S,E;const F=e[16].header,O=a(F,e,e[15],kt),I=[Ct,Tt],L=[];function A(e,t){return e[1].length?0:1}f=A(e),b=L[f]=I[f](e);const P=e[16].footer,U=a(P,e,e[15],yt);return{c(){t=y("section"),n=y("section"),i=x(),r=y("header"),O&&O.c(),l=x(),s=y("section"),c=y("section"),d=x(),b.c(),w=x(),v=y("footer"),U&&U.c(),k(n,"class",e[5]),k(r,"class","prom-dropdown__header"),k(c,"class","prom-dropdown__bodygradient-top"),k(s,"class","prom-dropdown__body"),k(v,"class","prom-dropdown__footer"),k(t,"class",T="prom-dropdown "+e[3]),t.hidden=e[4]},m(o,a){$(o,t,a),h(t,n),h(t,i),h(t,r),O&&O.m(r,null),h(t,l),h(t,s),h(s,c),h(s,d),L[f].m(s,null),h(t,w),h(t,v),U&&U.m(v,null),e[18](t),C=!0,S||(E=[_(window,"click",e[6]),_(window,"keyup",e[7])],S=!0)},p(e,[o]){(!C||32&o)&&k(n,"class",e[5]),O&&O.p&&(!C||32768&o)&&p(O,F,e,e[15],C?u(F,e[15],o,_t):m(e[15]),kt);let i=f;f=A(e),f===i?L[f].p(e,o):(Q(),Z(L[i],1,1,()=>{L[i]=null}),X(),b=L[f],b?b.p(e,o):(b=L[f]=I[f](e),b.c()),Y(b,1),b.m(s,null)),U&&U.p&&(!C||32768&o)&&p(U,P,e,e[15],C?u(P,e[15],o,bt):m(e[15]),yt),(!C||8&o&&T!==(T="prom-dropdown "+e[3]))&&k(t,"class",T),(!C||16&o)&&(t.hidden=e[4])},i(e){C||(Y(O,e),Y(b),Y(U,e),C=!0)},o(e){Z(O,e),Z(b),Z(U,e),C=!1},d(n){n&&g(t),O&&O.d(n),L[f].d(),U&&U.d(n),e[18](null),S=!1,o(E)}}}function Ft(e,t,n){let o,i,r,{$$slots:l={},$$scope:s}=t;const c=A();let a,d,{arrow:u=!0}=t,{arrowPosition:p="top"}=t,{expanded:m=!1}=t,{id:f="prom-dropdown__list"}=t,{items:h=[]}=t,{responsive:$=!0}=t;function g(e){const{key:t}=e;switch(Fe(t)){case ve:!function(){const e=document.querySelectorAll(".prom-dropdown__submenu");let t=!1;return e.length>0&&e.forEach(e=>{if(e.hasAttribute("aria-expanded")){"true"===e.getAttribute("aria-expanded")&&(t=!0)}}),t}()?c("dropdownClose",e):(qe(),Re(),e.stopPropagation());break;case Se:case we:break;default:return}}return L(()=>{n(14,d=new Le(a))}),e.$$set=e=>{"arrow"in e&&n(10,u=e.arrow),"arrowPosition"in e&&n(11,p=e.arrowPosition),"expanded"in e&&n(12,m=e.expanded),"id"in e&&n(0,f=e.id),"items"in e&&n(1,h=e.items),"responsive"in e&&n(13,$=e.responsive),"$$scope"in e&&n(15,s=e.$$scope)},e.$$.update=()=>{3072&e.$$.dirty&&n(5,o=u?"arrow-"+p:""),4096&e.$$.dirty&&n(4,i=m?"":"hidden"),8192&e.$$.dirty&&n(3,r=$?"":"prom-dropdown--not-responsive"),20482&e.$$.dirty&&(h||null!==m)&&setTimeout(()=>{d.init()},0)},[f,h,a,r,i,o,function(e){a.contains(e.target)||c("dropdownClose",e)},function(e){const{key:t}=e;switch(Fe(t)){case ve:m&&g(e);break;case Ce:c("dropdownClose",e);break;default:return}},g,function(e){c("selectedOption",{event:e,data:e.detail.data.value}),c("dropdownClose",e)},u,p,m,$,d,s,l,function(t){P.call(this,e,t)},function(e){R[e?"unshift":"push"](()=>{a=e,n(2,a)})}]}class Ot extends re{constructor(e){super(),ie(this,e,Ft,Et,r,{arrow:10,arrowPosition:11,expanded:12,id:0,items:1,responsive:13})}}const It=e=>({}),Lt=e=>({}),At=e=>({}),Pt=e=>({});function Ut(e){let t,n;const o=e[23].header,i=a(o,e,e[25],Lt);return{c(){t=y("section"),i&&i.c(),k(t,"slot","header")},m(e,o){$(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||33554432&t)&&p(i,o,e,e[25],n?u(o,e[25],t,It):m(e[25]),Lt)},i(e){n||(Y(i,e),n=!0)},o(e){Z(i,e),n=!1},d(e){e&&g(t),i&&i.d(e)}}}function Rt(e){let t,n;const o=e[23].footer,i=a(o,e,e[25],Pt);return{c(){t=y("section"),i&&i.c(),k(t,"slot","footer")},m(e,o){$(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||33554432&t)&&p(i,o,e,e[25],n?u(o,e[25],t,At):m(e[25]),Pt)},i(e){n||(Y(i,e),n=!0)},o(e){Z(i,e),n=!1},d(e){e&&g(t),i&&i.d(e)}}}function Nt(e){let t,n,o,i,r,l,s,c,a,d,u;return r=new ye({props:{iconClass:e[15],id:e[5]+"-button",iconOnly:e[3],iconPlacement:e[4],expanded:e[0],large:e[7],text:e[10],textOnly:e[11],type:e[12],disabled:e[2],ariaLabel:e[13],haspopup:!0,htmlType:"button"}}),r.$on("click",e[21]),r.$on("keyup",e[20]),r.$on("keydown",e[19]),s=new Ot({props:{arrow:e[1],arrowPosition:e[16],expanded:e[0],items:e[6],responsive:e[9],id:e[5]+"-list",$$slots:{footer:[Rt],header:[Ut]},$$scope:{ctx:e}}}),s.$on("dropdownClose",e[17]),s.$on("submenuClose",e[18]),s.$on("selectedOption",e[24]),{c(){t=y("section"),o=x(),i=y("section"),te(r.$$.fragment),l=x(),te(s.$$.fragment),k(t,"class",n="prom-button-dropdown-overlay "+e[14]),k(i,"class",c="prom-button-dropdown prom-dropdown__"+e[8]),k(i,"id",e[5])},m(n,c){$(n,t,c),$(n,o,c),$(n,i,c),ne(r,i,null),h(i,l),ne(s,i,null),a=!0,d||(u=_(t,"click",e[21]),d=!0)},p(e,[o]){(!a||16384&o&&n!==(n="prom-button-dropdown-overlay "+e[14]))&&k(t,"class",n);const l={};32768&o&&(l.iconClass=e[15]),32&o&&(l.id=e[5]+"-button"),8&o&&(l.iconOnly=e[3]),16&o&&(l.iconPlacement=e[4]),1&o&&(l.expanded=e[0]),128&o&&(l.large=e[7]),1024&o&&(l.text=e[10]),2048&o&&(l.textOnly=e[11]),4096&o&&(l.type=e[12]),4&o&&(l.disabled=e[2]),8192&o&&(l.ariaLabel=e[13]),r.$set(l);const d={};2&o&&(d.arrow=e[1]),65536&o&&(d.arrowPosition=e[16]),1&o&&(d.expanded=e[0]),64&o&&(d.items=e[6]),512&o&&(d.responsive=e[9]),32&o&&(d.id=e[5]+"-list"),33554432&o&&(d.$$scope={dirty:o,ctx:e}),s.$set(d),(!a||256&o&&c!==(c="prom-button-dropdown prom-dropdown__"+e[8]))&&k(i,"class",c),(!a||32&o)&&k(i,"id",e[5])},i(e){a||(Y(r.$$.fragment,e),Y(s.$$.fragment,e),a=!0)},o(e){Z(r.$$.fragment,e),Z(s.$$.fragment,e),a=!1},d(e){e&&g(t),e&&g(o),e&&g(i),oe(r),oe(s),d=!1,u()}}}function Bt(e,t,n){let o,i,r,{$$slots:l={},$$scope:s}=t;const c=A();let{arrow:a=!0}=t,{iconClass:d="prom-button-dropdown-icon"}=t,{expanded:u=!1}=t,{disabled:p=!1}=t,{iconOnly:m=!1}=t,{iconPlacement:f="start"}=t,{id:h="button-dropdown"}=t,{items:$=[]}=t,{large:g=!1}=t,{position:b="down"}=t,{responsive:y=!0}=t,{text:w="ChangeMe"}=t,{textOnly:x=!0}=t,{type:v="primary"}=t,{ariaLabel:_}=t;function k(e,t=!1){if(e.preventDefault(),c("beforeToggle",e),n(0,u=!u),$.length&&t){const e=document.querySelector("#"+h);setTimeout(()=>Pe(e),0)}}function T(){document.querySelector("#"+h+"-button").focus()}return e.$$set=e=>{"arrow"in e&&n(1,a=e.arrow),"iconClass"in e&&n(22,d=e.iconClass),"expanded"in e&&n(0,u=e.expanded),"disabled"in e&&n(2,p=e.disabled),"iconOnly"in e&&n(3,m=e.iconOnly),"iconPlacement"in e&&n(4,f=e.iconPlacement),"id"in e&&n(5,h=e.id),"items"in e&&n(6,$=e.items),"large"in e&&n(7,g=e.large),"position"in e&&n(8,b=e.position),"responsive"in e&&n(9,y=e.responsive),"text"in e&&n(10,w=e.text),"textOnly"in e&&n(11,x=e.textOnly),"type"in e&&n(12,v=e.type),"ariaLabel"in e&&n(13,_=e.ariaLabel),"$$scope"in e&&n(25,s=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&n(16,o="up"===b?"bottom":"top"),4196352&e.$$.dirty&&n(15,i=x?"":d),513&e.$$.dirty&&n(14,r=y&&u?"prom-button-dropdown-overlay--visible":"")},[u,a,p,m,f,h,$,g,b,y,w,x,v,_,r,i,o,function({detail:e}){const t=document.querySelector("#"+h+"-button");if(t&&t.contains(e.target))return;const{key:o}=e;switch(n(0,u=!1),Fe(o)){case ve:T();break;default:return}},function(e){e.stopPropagation(),qe()},function(e){const{key:t}=e;switch(Fe(t)){case we:{e.preventDefault(),n(0,u=!0);const t=document.querySelector("#"+h);setTimeout(()=>Pe(t),0);break}case Ce:qe(),Ne(),n(0,u=!1);break;case xe:case Te:e.preventDefault(),k(e,!0);break;default:return}},function(e){const{key:t}=e;switch(Fe(t)){case ve:n(0,u=!1),T();break;default:return}},k,d,l,function(t){P.call(this,e,t)},s]}class Dt extends re{constructor(e){super(),ie(this,e,Bt,Nt,r,{arrow:1,iconClass:22,expanded:0,disabled:2,iconOnly:3,iconPlacement:4,id:5,items:6,large:7,position:8,responsive:9,text:10,textOnly:11,type:12,ariaLabel:13})}}function qt(e,t){const{cloudFileIcons:n}=ae();let o=n[e];return o||(o=t),o}class Ht extends Error{constructor(e,t){super(e),this.response=t}}const Mt=Object.freeze({ok:200,created:201,accepted:202,nonAuthoritativeInformation:203,noContent:204,resetContent:205,partialContent:206,multipleChoices:300,movedPermanently:301,found:302,seeOther:303,notModified:304,useProxy:305,temporaryRedirect:307,badRequest:400,unauthorized:401,paymentRequired:402,forbidden:403,notFound:404,methodNotAllowed:405,notAcceptable:406,proxyAuthenticationRequired:407,requestTimeout:408,conflict:409,gone:410,internalServerError:500,notImplemented:501,badGateway:502,serviceUnavailable:503,gatewayTimeout:504,httpVersionNotSupported:505});function zt(e,t,n={}){return new Promise((o,i)=>{fetch(e,jt("POST",JSON.stringify(t),n)).then(Gt).then(o).catch(i)})}function Vt(e,t={}){return new Promise((n,o)=>{fetch(e,jt("GET",void 0,t)).then(Gt).then(n).catch(o)})}function Gt(e){if(!e.ok)throw new Ht(e.statusText,e);return e.status===Mt.noContent?new Promise(e=>e(void 0)):e.clone().json().catch(()=>e.text())}function jt(e,t,n){return{method:e,mode:void 0!==n.mode?n.mode:"cors",cache:void 0!==n.cache?n.cache:"default",credentials:void 0!==n.credentials?n.credentials:"same-origin",headers:Object.assign({"Content-Type":"application/json; charset=utf-8"},n.headers),body:t}}const Wt=Vt;function Kt(e){const{recentCloudFiles:t}=ae(),n=[];(function(e){const{cloudServiceSettings:t,antiForgeryHeaderSettings:n}=ae(),o={[n.headerName]:n.headerValue},i=t[e].recentCloudElementsSettings,r=Jt.getRecentCloudElements.replace("{cloudService}",e).replace("{filesCount}",i.filesCount).replace("{includeSharedFiles}",i.includeSharedFiles).replace("{includeFolders}",i.includeFolders);return Wt(r,{headers:o}).then(e=>e)})(e).then(o=>{o.forEach(e=>{n.push(e)}),t[e]=n,de({recentCloudFiles:t})})}const Jt={addCloudFilesToCourseFolder:"/restapi/personal/courses/{courseId}/folders/{folderId}/file/cloud/v1",addFileRepoFilesToCourseFolder:"/restapi/personal/courses/{courseId}/folders/{folderId}/file/filerepo/v1",getRecentCloudElements:"/restapi/personal/cloudproxy/recentfiles/{cloudService}/{filesCount}/{includeFolders}/{includeSharedFiles}",getPlannerFilesUploadStatus:e=>"/RestApi/planner/element/filesUploadStatus?courseId="+e},Qt={quickAdd:"content-area-quick-add-menu"},Xt={quickAddButton:`#${Qt.quickAdd} > .prom-button-dropdown > button.prom-button`,modal:".prom-modal2__dialog"},Yt="contentarea-action-list__itslearning-element",Zt="quick-add__show-all",en="icons/assignment.svg",tn="icons/xp/googledrive.svg",nn="icons/xp/google_file.svg",on="icons/microsoft-onedrive-2019.svg",rn="icons/office365.svg",ln="icons/computer.svg",sn="icons/device.svg",cn="icons/test.svg",an={AssignmentApp:en,Assignment:en,CustomActivity:"icons/task.svg",TestApp:cn,Test:cn},dn={none:0,inProgress:1,success:2,error:3};const{window:un}=f;function pn(e){let t,n,i,r,l,s,c,a,d;function u(t){e[21](t)}let p={text:e[3].i18n.add,iconOnly:e[1],items:e[6],textOnly:!e[1]};return void 0!==e[0]&&(p.expanded=e[0]),l=new Dt({props:p}),R.push(()=>ee(l,"expanded",u)),l.$on("selectedOption",e[7]),{c(){t=y("input"),i=x(),r=y("div"),te(l.$$.fragment),k(t,"type","file"),t.hidden=!0,t.multiple=!0,k(t,"aria-label",n=e[3].i18n.selectFileLabel),k(r,"class","contentarea-action-list"),k(r,"id",e[2])},m(n,o){$(n,t,o),e[20](t),$(n,i,o),$(n,r,o),ne(l,r,null),e[22](r),c=!0,a||(d=[_(un,"click",e[11]),_(un,"blur",e[10]),_(un,"beforeunload",e[9]),_(un,"resize",e[12]),_(t,"change",e[8])],a=!0)},p(e,[o]){(!c||8&o&&n!==(n=e[3].i18n.selectFileLabel))&&k(t,"aria-label",n);const i={};8&o&&(i.text=e[3].i18n.add),2&o&&(i.iconOnly=e[1]),64&o&&(i.items=e[6]),2&o&&(i.textOnly=!e[1]),!s&&1&o&&(s=!0,i.expanded=e[0],z(()=>s=!1)),l.$set(i),(!c||4&o)&&k(r,"id",e[2])},i(e){c||(Y(l.$$.fragment,e),c=!0)},o(e){Z(l.$$.fragment,e),c=!1},d(n){n&&g(t),e[20](null),n&&g(i),n&&g(r),oe(l),e[22](null),a=!1,o(d)}}}function mn(e,t,n){let o,i,r,l,s,a,d;c(e,ce,e=>n(3,d=e));let u,p,{dropDownExpanded:m=!1}=t,{iconOnly:f=!1}=t,{quickAddId:h=Qt.quickAdd}=t,{addViewCallback:$=(()=>{})}=t,{kpiCallback:g=(()=>{})}=t;function b(e){const{staticContentPath:t,i18n:n}=e;if(!et.match(/(CrOS)/g)){const e=tt();return{icon:t+(e?sn:ln),iconsize:24,label:e?n.device:n.computer,link:!1,value:{source:"Computer"}}}return null}function y(){n(1,f=window.innerWidth<568)}return L(()=>y()),e.$$set=e=>{"dropDownExpanded"in e&&n(0,m=e.dropDownExpanded),"iconOnly"in e&&n(1,f=e.iconOnly),"quickAddId"in e&&n(2,h=e.quickAddId),"addViewCallback"in e&&n(13,$=e.addViewCallback),"kpiCallback"in e&&n(14,g=e.kpiCallback)},e.$$.update=()=>{8&e.$$.dirty&&n(16,o=function(e){const{menuOptionItems:t,staticContentPath:n}=e;return t.map(e=>({icon:an[e.value]?n+an[e.value]:e.icon,iconsize:24,label:e.title,link:!0,url:e.url,cssClass:Yt}))}(d)),8&e.$$.dirty&&n(19,i=function(e){const{cloudServiceSettings:t,recentCloudFiles:n,staticContentPath:o,i18n:i}=e;if(t.GoogleDrive.showCloudService){const e=[{options:[{label:i.selectFileLabel,link:!1,value:{source:"GoogleDrive"},divider:!0,ellipsis:!0}]}];if(t.GoogleDrive.recentCloudElementsSettings.enabled&&n.GoogleDrive&&n.GoogleDrive.length>0){const t=[];e.push({label:i.recent,options:t}),n.GoogleDrive.forEach(e=>{t.push({icon:qt(e.mimeType,o+nn),iconsize:24,value:{source:"RecentGoogleDrive",elementId:e.id,cloudProvider:"GoogleDrive"},label:e.name,link:!1})})}return{icon:o+tn,iconsize:24,label:i.googleDrive,link:!1,value:{source:"GoogleDrive"},items:e}}}(d)),8&e.$$.dirty&&n(18,r=function(e){const{cloudServiceSettings:t,staticContentPath:n,i18n:o,showOffice365InsteadOfOneDrive:i}=e;if(t.OneDrive.showCloudService){const e={icon:n+on,iconsize:24,label:o.oneDrive,link:!1,value:{source:"OneDrive"}};return i&&(e.icon=n+rn,e.label=o.office365),e}}(d)),8&e.$$.dirty&&n(17,l=b(d)),8&e.$$.dirty&&n(15,s=function(e){return{label:e.i18n.showAll,link:!0,url:e.showAllUrl,cssClass:Zt}}(d)),1015808&e.$$.dirty&&n(6,a=function(e,t,n,o,i){return[{options:[...o,e,t,n,i].filter(e=>!!e)}]}(i,r,l,o,s))},[m,f,h,d,u,p,a,function(e){const t=e.detail.data;"Computer"===t.source?u.click():$(t),g(t.source)},function(){const e=[];for(let t=0;t<u.files.length;t++)e.push(u.files[t]);e&&e.length>0&&($({source:"Computer",files:e}),n(4,u.value=null,u))},function(e){d.filesStatus.some(e=>e.inProgress)&&(e.preventDefault(),e.returnValue="")},function(){n(0,m=!1)},function(e){if(!p.contains(e.target))return;const t=p.querySelector("."+Zt),n=document.querySelector(Xt.quickAddButton);if(n===e.target&&m)g("QuickAdd"),function(){const{cloudServiceSettings:e}=ae();Object.keys(e).forEach(t=>{const n=e[t];n.showCloudService&&n.recentCloudElementsSettings.enabled&&Kt(t)})}();else if(e.target===t||t.contains(e.target))g("ShowAll"),n.focus();else{p.querySelectorAll("."+Yt).forEach(t=>{(e.target===t||t.contains(e.target))&&(g("ItslearningElement"),n.focus())})}},function(){y()},$,g,s,o,l,r,i,function(e){R[e?"unshift":"push"](()=>{u=e,n(4,u)})},function(e){m=e,n(0,m)},function(e){R[e?"unshift":"push"](()=>{p=e,n(5,p)})}]}class fn extends re{constructor(e){super(),ie(this,e,mn,pn,r,{dropDownExpanded:0,iconOnly:1,quickAddId:2,addViewCallback:13,kpiCallback:14})}}function hn(e){let t,n,o,i,r,l,s,c=e[5]&&$n(e),a=e[4]&&yn(e);return{c(){t=y("div"),n=y("div"),o=x(),i=y("span"),c&&c.c(),r=x(),a&&a.c(),k(n,"class","prom-banner__icon"),k(n,"aria-hidden","true"),k(i,"class","prom-banner__message"),k(i,"aria-live",e[6]),k(i,"role",e[7]),k(i,"aria-atomic","true"),k(t,"class",l="prom-banner prom-banner--"+e[1])},m(e,l){$(e,t,l),h(t,n),h(t,o),h(t,i),c&&c.m(i,null),h(t,r),a&&a.m(t,null),s=!0},p(e,n){e[5]?c?(c.p(e,n),32&n&&Y(c,1)):(c=$n(e),c.c(),Y(c,1),c.m(i,null)):c&&(Q(),Z(c,1,1,()=>{c=null}),X()),(!s||64&n)&&k(i,"aria-live",e[6]),(!s||128&n)&&k(i,"role",e[7]),e[4]?a?a.p(e,n):(a=yn(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),(!s||2&n&&l!==(l="prom-banner prom-banner--"+e[1]))&&k(t,"class",l)},i(e){s||(Y(c),s=!0)},o(e){Z(c),s=!1},d(e){e&&g(t),c&&c.d(),a&&a.d()}}}function $n(e){let t,n,o,i,r,l,s=e[2]&&gn(e),c=e[3]&&bn(e);const d=e[17].default,f=a(d,e,e[16],null);return{c(){t=y("span"),n=w(e[8]),o=x(),s&&s.c(),i=x(),c&&c.c(),r=x(),f&&f.c(),k(t,"class","screen-reader")},m(e,a){$(e,t,a),h(t,n),$(e,o,a),s&&s.m(e,a),$(e,i,a),c&&c.m(e,a),$(e,r,a),f&&f.m(e,a),l=!0},p(e,t){(!l||256&t)&&T(n,e[8]),e[2]?s?s.p(e,t):(s=gn(e),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null),e[3]?c?c.p(e,t):(c=bn(e),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),f&&f.p&&(!l||65536&t)&&p(f,d,e,e[16],l?u(d,e[16],t,null):m(e[16]),null)},i(e){l||(Y(f,e),l=!0)},o(e){Z(f,e),l=!1},d(e){e&&g(t),e&&g(o),s&&s.d(e),e&&g(i),c&&c.d(e),e&&g(r),f&&f.d(e)}}}function gn(e){let t;return{c(){t=w(e[2])},m(e,n){$(e,t,n)},p(e,n){4&n&&T(t,e[2])},d(e){e&&g(t)}}}function bn(e){let t,n;return{c(){t=new S(!1),n=v(),t.a=n},m(o,i){t.m(e[3],o,i),$(o,n,i)},p(e,n){8&n&&t.p(e[3])},d(e){e&&g(n),e&&t.d()}}}function yn(e){let t,n,o,i,r;return{c(){t=y("button"),n=y("span"),o=w(e[9]),k(n,"class","prom-banner__close-text"),k(t,"type","button"),k(t,"class","prom-banner__close")},m(l,s){$(l,t,s),h(t,n),h(n,o),i||(r=_(t,"click",e[10]),i=!0)},p(e,t){512&t&&T(o,e[9])},d(e){e&&g(t),i=!1,r()}}}function wn(e){let t,n,o=e[0]&&hn(e);return{c(){o&&o.c(),t=v()},m(e,i){o&&o.m(e,i),$(e,t,i),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&Y(o,1)):(o=hn(e),o.c(),Y(o,1),o.m(t.parentNode,t)):o&&(Q(),Z(o,1,1,()=>{o=null}),X())},i(e){n||(Y(o),n=!0)},o(e){Z(o),n=!1},d(e){o&&o.d(e),e&&g(t)}}}function xn(e,t,n){let o,i,{$$slots:r={},$$scope:l}=t;const s=A();let{type:c="info"}=t,{visible:a=!1}=t,{text:d=null}=t,{html:u=null}=t,{close:p=null}=t,{closable:m=!0}=t,{infoText:f="information"}=t,{warningText:h="warning"}=t,{loadingText:$="loading"}=t,{successText:g="success"}=t,b=!1,y="",w="";return e.$$set=e=>{"type"in e&&n(1,c=e.type),"visible"in e&&n(0,a=e.visible),"text"in e&&n(2,d=e.text),"html"in e&&n(3,u=e.html),"close"in e&&n(11,p=e.close),"closable"in e&&n(4,m=e.closable),"infoText"in e&&n(12,f=e.infoText),"warningText"in e&&n(13,h=e.warningText),"loadingText"in e&&n(14,$=e.loadingText),"successText"in e&&n(15,g=e.successText),"$$scope"in e&&n(16,l=e.$$scope)},e.$$.update=()=>{2064&e.$$.dirty&&n(9,o=p||!m||console.warn("Banner close text is required but not included!")),2&e.$$.dirty&&n(6,y={info:"polite",warning:"assertive"}[c]||"polite"),2&e.$$.dirty&&n(7,w={info:"status",warning:"alert"}[c]||"status"),61442&e.$$.dirty&&n(8,i={info:f,warning:h,loading:$,success:g}[c]),1&e.$$.dirty&&L(()=>{a&&setTimeout(()=>{n(5,b=a)},200)}),1&e.$$.dirty&&(a?setTimeout(()=>{n(5,b=!0)},100):n(5,b=!1))},[a,c,d,u,m,b,y,w,i,o,function(e){n(0,a=!1),s("hidden",{event:e})},p,f,h,$,g,l,r]}class vn extends re{constructor(e){super(),ie(this,e,xn,wn,r,{type:1,visible:0,text:2,html:3,close:11,closable:4,infoText:12,warningText:13,loadingText:14,successText:15})}}function _n(e){let t,n;return{c(){t=new S(!1),n=v(),t.a=n},m(o,i){t.m(e[4],o,i),$(o,n,i)},p(e,n){16&n&&t.p(e[4])},d(e){e&&g(n),e&&t.d()}}}function kn(e){let t,n;return{c(){t=new S(!1),n=v(),t.a=n},m(o,i){t.m(e[7],o,i),$(o,n,i)},p(e,n){128&n&&t.p(e[7])},d(e){e&&g(n),e&&t.d()}}}function Tn(e){let t;return{c(){t=w(e[5])},m(e,n){$(e,t,n)},p(e,n){32&n&&T(t,e[5])},d(e){e&&g(t)}}}function Cn(e){let t;return{c(){t=w(e[9])},m(e,n){$(e,t,n)},p(e,n){512&n&&T(t,e[9])},d(e){e&&g(t)}}}function Sn(e){let t,n=e[1].i18n.errors.unknown+"";return{c(){t=w(n)},m(e,n){$(e,t,n)},p(e,o){2&o&&n!==(n=e[1].i18n.errors.unknown+"")&&T(t,n)},d(e){e&&g(t)}}}function En(e){let t,n,o,i,r=e[1].i18n.fileResultsMoreInfo+"";return{c(){t=y("button"),n=w(r),k(t,"class","contentarea-feedback__more-info"),k(t,"type","button")},m(r,l){$(r,t,l),h(t,n),o||(i=_(t,"click",e[17]),o=!0)},p(e,t){2&t&&r!==(r=e[1].i18n.fileResultsMoreInfo+"")&&T(n,r)},d(e){e&&g(t),o=!1,i()}}}function Fn(e){let t,n;function o(e,t){return e[1].apiError?Sn:e[10]?Cn:e[6]?Tn:e[8]?kn:_n}let i=o(e),r=i(e),l=e[3]&&En(e);return{c(){t=y("span"),r.c(),n=x(),l&&l.c()},m(e,o){$(e,t,o),r.m(t,null),h(t,n),l&&l.m(t,null)},p(e,s){i===(i=o(e))&&r?r.p(e,s):(r.d(1),r=i(e),r&&(r.c(),r.m(t,n))),e[3]?l?l.p(e,s):(l=En(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(e){e&&g(t),r.d(),l&&l.d()}}}function On(e){let t,n,o,i,r,l;function s(t){e[18](t)}let c={close:e[1].i18n.close,type:e[2],$$slots:{default:[Fn]},$$scope:{ctx:e}};return void 0!==e[0]&&(c.visible=e[0]),n=new vn({props:c}),R.push(()=>ee(n,"visible",s)),n.$on("hidden",e[13]),{c(){t=y("div"),te(n.$$.fragment)},m(o,s){$(o,t,s),ne(n,t,null),i=!0,r||(l=_(t,"click",e[12]),r=!0)},p(e,[t]){const i={};2&t&&(i.close=e[1].i18n.close),4&t&&(i.type=e[2]),526330&t&&(i.$$scope={dirty:t,ctx:e}),!o&&1&t&&(o=!0,i.visible=e[0],z(()=>o=!1)),n.$set(i)},i(e){i||(Y(n.$$.fragment,e),i=!0)},o(e){Z(n.$$.fragment,e),i=!1},d(e){e&&g(t),oe(n),r=!1,l()}}}function In(e,t,n,o){return e=(e=e.replace(t,`<a\n            class="quick-add__resource-link"\n            href="${o}"\n            target="mainmenu"\n        >`)).replace(n,"</a>")}function Ln(e,t,n){let o,i,r,l,s,a,d,u,p,m;c(e,ce,e=>n(1,m=e));let{files:f=[]}=t,{bannerVisible:h=!1}=t,{resourcesUrl:$=""}=t,{singleResourceUrl:g=""}=t;const b=A();I(()=>{f.length>0||m.apiError?n(0,h=!0):n(0,h=!1),window.setIframeDefaultHeight()});return e.$$set=e=>{"files"in e&&n(14,f=e.files),"bannerVisible"in e&&n(0,h=e.bannerVisible),"resourcesUrl"in e&&n(15,$=e.resourcesUrl),"singleResourceUrl"in e&&n(16,g=e.singleResourceUrl)},e.$$.update=()=>{16384&e.$$.dirty&&n(10,o=f.some(e=>!e.error&&!e.success)),16386&e.$$.dirty&&n(9,i=function(e,t){const n=e.filter(e=>!e.error&&!e.success);return 1===n.length?t.addInProgressSingle:t.addInProgressMultiple.replace("{inProgressCount}",n.length)}(f,m.i18n)),16384&e.$$.dirty&&n(8,r=!f.some(e=>!e.success)),114690&e.$$.dirty&&n(7,l=function(e,t,n,o){if(1===e.length){const n=o.replace("{elementId}",e[0].elementId);return In(t.successfulAddSingle,"{0}","{1}",n)}return In(t.successfulAddMultiple.replace("{0}",e.length),"{1}","{2}",n)}(f,m.i18n,$,g)),16384&e.$$.dirty&&n(6,s=!f.some(e=>!e.error)),16386&e.$$.dirty&&n(5,a=function(e,t){if(1===e.length){const n=e[0];return t.failedAddSingle.replace("{0}",n.name).replace("{1}",t[n.error+"Error"])}return t.failedAddMultiple}(f,m.i18n)),49154&e.$$.dirty&&n(4,d=function(e,t,n){const o=e.filter(e=>e.success),i=e.filter(e=>e.error);return In(t.mixedSuccessAdd,"{1}","{2}",n).replace("{0}",o.length).replace("{3}",i.length)}(f,m.i18n,$)),16384&e.$$.dirty&&n(3,u=f.some(e=>!e.success)),16386&e.$$.dirty&&n(2,p=function(e,t){if(t)return"warning";let n=!1;for(let t=0;t<e.length;t++){if(!e[t].error&&!e[t].success)return"loading";e[t].error&&(n=!0)}return n?"warning":"success"}(f,m.apiError))},[h,m,p,u,d,a,s,l,r,i,o,b,function(e){e.target.classList.contains("quick-add__resource-link")&&n(0,h=!1)},function(){n(14,f=[]),window.setIframeDefaultHeight()},f,$,g,()=>b("showMoreInfo"),function(e){h=e,n(0,h)}]}class An extends re{constructor(e){super(),ie(this,e,Ln,On,r,{files:14,bannerVisible:0,resourcesUrl:15,singleResourceUrl:16})}}const{window:Pn}=f,Un=e=>({}),Rn=e=>({}),Nn=e=>({}),Bn=e=>({}),Dn=e=>({}),qn=e=>({}),Hn=e=>({}),Mn=e=>({});function zn(e){let t,n,i,r,l,s,c,d,f,b,w,T,S,E,F,O,I,L,A,P,U;const R=e[30].banner,N=a(R,e,e[29],Mn),B=e[30].title,D=a(B,e,e[29],qn);let q=e[4]&&Vn(e),H=!e[1]&&Gn(e);const M=e[30].footer,z=a(M,e,e[29],Rn),V=z||function(e){let t,n,o,i;t=new me({props:{type:e[8],htmlType:"button",text:e[2],large:!0}}),t.$on("click",e[22]);let r=e[7]&&Kn(e);return{c(){te(t.$$.fragment),n=x(),r&&r.c(),o=v()},m(e,l){ne(t,e,l),$(e,n,l),r&&r.m(e,l),$(e,o,l),i=!0},p(e,n){const i={};256&n[0]&&(i.type=e[8]),4&n[0]&&(i.text=e[2]),t.$set(i),e[7]?r?(r.p(e,n),128&n[0]&&Y(r,1)):(r=Kn(e),r.c(),Y(r,1),r.m(o.parentNode,o)):r&&(Q(),Z(r,1,1,()=>{r=null}),X())},i(e){i||(Y(t.$$.fragment,e),Y(r),i=!0)},o(e){Z(t.$$.fragment,e),Z(r),i=!1},d(e){oe(t,e),e&&g(n),r&&r.d(e),e&&g(o)}}}(e);return{c(){t=y("div"),n=y("div"),i=x(),r=y("section"),l=y("div"),N&&N.c(),s=x(),c=y("div"),d=y("div"),f=y("h1"),D&&D.c(),b=x(),q&&q.c(),T=x(),H&&H.c(),S=x(),E=y("div"),F=y("div"),O=x(),I=y("div"),V&&V.c(),k(n,"class","prom-modal2__backdrop"),k(l,"class","prom-modal2__banner-slot"),k(f,"id",w=e[10]+"-header"),k(f,"class","prom-modal2__header"),k(d,"class","prom-modal2__content"),k(F,"class","prom-modal2__content-gradient--inner"),k(F,"style",e[17]),k(E,"class","prom-modal2__content-gradient"),k(I,"class","prom-modal2__footer"),k(c,"class","prom-modal2__inner"),k(r,"id",e[10]),k(r,"role","dialog"),k(r,"class","prom-modal2__dialog"),k(r,"style",e[14]),k(r,"aria-labelledby",L=e[10]+"-header"),k(r,"aria-describedby",e[18]),k(r,"aria-modal","true"),C(r,"prom-modal2__dialog--wide",e[11]),k(t,"class","prom-modal2__wrapper")},m(o,a){$(o,t,a),h(t,n),h(t,i),h(t,r),h(r,l),N&&N.m(l,null),h(r,s),h(r,c),h(c,d),h(d,f),D&&D.m(f,null),h(f,b),q&&q.m(f,null),h(d,T),H&&H.m(d,null),e[32](d),h(c,S),h(c,E),h(E,F),h(c,O),h(c,I),V&&V.m(I,null),e[33](r),A=!0,P||(U=[_(n,"click",e[31]),_(d,"scroll",e[23])],P=!0)},p(e,t){N&&N.p&&(!A||536870912&t[0])&&p(N,R,e,e[29],A?u(R,e[29],t,Hn):m(e[29]),Mn),D&&D.p&&(!A||536870912&t[0])&&p(D,B,e,e[29],A?u(B,e[29],t,Dn):m(e[29]),qn),e[4]?q?q.p(e,t):(q=Vn(e),q.c(),q.m(f,null)):q&&(q.d(1),q=null),(!A||1024&t[0]&&w!==(w=e[10]+"-header"))&&k(f,"id",w),e[1]?H&&(Q(),Z(H,1,1,()=>{H=null}),X()):H?(H.p(e,t),2&t[0]&&Y(H,1)):(H=Gn(e),H.c(),Y(H,1),H.m(d,null)),(!A||131072&t[0])&&k(F,"style",e[17]),z?z.p&&(!A||536870912&t[0])&&p(z,M,e,e[29],A?u(M,e[29],t,Un):m(e[29]),Rn):V&&V.p&&(!A||908&t[0])&&V.p(e,A?t:[-1,-1]),(!A||1024&t[0])&&k(r,"id",e[10]),(!A||16384&t[0])&&k(r,"style",e[14]),(!A||1024&t[0]&&L!==(L=e[10]+"-header"))&&k(r,"aria-labelledby",L),(!A||262144&t[0])&&k(r,"aria-describedby",e[18]),(!A||2048&t[0])&&C(r,"prom-modal2__dialog--wide",e[11])},i(e){A||(Y(N,e),Y(D,e),Y(H),Y(V,e),A=!0)},o(e){Z(N,e),Z(D,e),Z(H),Z(V,e),A=!1},d(n){n&&g(t),N&&N.d(n),D&&D.d(n),q&&q.d(),H&&H.d(),e[32](null),V&&V.d(n),e[33](null),P=!1,o(U)}}}function Vn(e){let t;return{c(){t=w(e[4])},m(e,n){$(e,t,n)},p(e,n){16&n[0]&&T(t,e[4])},d(e){e&&g(t)}}}function Gn(e){let t,n,o,i,r;const l=e[30].body,s=a(l,e,e[29],Bn);let c=e[5]&&jn(e),d=e[6]&&Wn(e);return{c(){t=y("div"),s&&s.c(),n=x(),c&&c.c(),o=x(),d&&d.c(),k(t,"id",i=e[10]+"-body"),k(t,"class","prom-modal2__body"),C(t,"prom-modal2__body--scroll",e[12])},m(e,i){$(e,t,i),s&&s.m(t,null),h(t,n),c&&c.m(t,null),h(t,o),d&&d.m(t,null),r=!0},p(e,n){s&&s.p&&(!r||536870912&n[0])&&p(s,l,e,e[29],r?u(l,e[29],n,Nn):m(e[29]),Bn),e[5]?c?c.p(e,n):(c=jn(e),c.c(),c.m(t,o)):c&&(c.d(1),c=null),e[6]?d?d.p(e,n):(d=Wn(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null),(!r||1024&n[0]&&i!==(i=e[10]+"-body"))&&k(t,"id",i),(!r||4096&n[0])&&C(t,"prom-modal2__body--scroll",e[12])},i(e){r||(Y(s,e),r=!0)},o(e){Z(s,e),r=!1},d(e){e&&g(t),s&&s.d(e),c&&c.d(),d&&d.d()}}}function jn(e){let t;return{c(){t=w(e[5])},m(e,n){$(e,t,n)},p(e,n){32&n[0]&&T(t,e[5])},d(e){e&&g(t)}}}function Wn(e){let t,n;return{c(){t=new S(!1),n=v(),t.a=n},m(o,i){t.m(e[6],o,i),$(o,n,i)},p(e,n){64&n[0]&&t.p(e[6])},d(e){e&&g(n),e&&t.d()}}}function Kn(e){let t,n;return t=new me({props:{type:e[9],htmlType:"button",text:e[3],large:!0}}),t.$on("click",e[21]),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};512&n[0]&&(o.type=e[9]),8&n[0]&&(o.text=e[3]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Jn(e){let t,n,i,r,l=e[0]&&zn(e);return{c(){l&&l.c(),t=v()},m(o,s){l&&l.m(o,s),$(o,t,s),n=!0,i||(r=[_(Pn,"keyup",e[19]),_(Pn,"resize",e[20])],i=!0)},p(e,n){e[0]?l?(l.p(e,n),1&n[0]&&Y(l,1)):(l=zn(e),l.c(),Y(l,1),l.m(t.parentNode,t)):l&&(Q(),Z(l,1,1,()=>{l=null}),X())},i(e){n||(Y(l),n=!0)},o(e){Z(l),n=!1},d(e){l&&l.d(e),e&&g(t),i=!1,o(r)}}}function Qn(e,t,n){let o,{$$slots:i={},$$scope:r}=t;const l=A();let s,c,a,{id:d=Math.random().toString(36).substr(2,16)}=t,{enabled:u=!1}=t,{wide:p=!1}=t,{titleOnly:m=!1}=t,{confirmText:f}=t,{cancelText:h}=t,{titleText:$}=t,{bodyText:g}=t,{bodyHtml:b}=t,{showCancel:y=!0}=t,{scrollBody:w=!1}=t,{describedBy:x}=t,{confirmButtonType:v="primary"}=t,{cancelButtonType:_="secondary"}=t,{clickOutsideCloses:k=!0}=t,T=!1,C=50,S=document.querySelector("html"),E=void 0,F="",O=void 0,I=void 0,L=!1;function P(){if(!u)return;let e=window.innerWidth>640?Math.min(window.innerHeight,p?1200:600):window.innerHeight;n(14,F=`max-height: ${e}px;`),setTimeout(()=>{c&&n(26,T=c.clientHeight!==c.scrollHeight)},0)}function U(){n(0,u=!1),l("close",{confirmed:!1}),l("cancel"),E&&E(!1)}return e.$$set=e=>{"id"in e&&n(10,d=e.id),"enabled"in e&&n(0,u=e.enabled),"wide"in e&&n(11,p=e.wide),"titleOnly"in e&&n(1,m=e.titleOnly),"confirmText"in e&&n(2,f=e.confirmText),"cancelText"in e&&n(3,h=e.cancelText),"titleText"in e&&n(4,$=e.titleText),"bodyText"in e&&n(5,g=e.bodyText),"bodyHtml"in e&&n(6,b=e.bodyHtml),"showCancel"in e&&n(7,y=e.showCancel),"scrollBody"in e&&n(12,w=e.scrollBody),"describedBy"in e&&n(24,x=e.describedBy),"confirmButtonType"in e&&n(8,v=e.confirmButtonType),"cancelButtonType"in e&&n(9,_=e.cancelButtonType),"clickOutsideCloses"in e&&n(13,k=e.clickOutsideCloses),"$$scope"in e&&n(29,r=e.$$scope)},e.$$.update=()=>{if(201326592&e.$$.dirty[0]){let e=0;T&&(e=Math.min(C,30)),n(17,a=`height: ${e}px;`)}16778240&e.$$.dirty[0]&&n(18,o=x||d+"-body"),268435457&e.$$.dirty[0]&&(u&&!L?(n(28,L=u),O=document.activeElement,S.classList.add("prom-modal2--open-within"),P(),setTimeout(()=>{if(s){const e=s.querySelectorAll("button");I=new Le(s),I.init(),e.length&&e[e.length-1].focus()}},0),setTimeout(()=>P(),300)):!u&&L&&(n(28,L=u),S.classList.remove("prom-modal2--open-within"),O&&O.focus(),I&&I.teardown())),2049&e.$$.dirty[0]&&u&&p&&P()},[u,m,f,h,$,g,b,y,v,_,d,p,w,k,F,s,c,a,o,function(e){u&&Fe(e.key)===ve&&U()},P,U,function(){n(0,u=!1),l("close",{confirmed:!0}),l("confirm"),E&&E(!0)},function(){const e=c.scrollHeight,t=c.clientHeight,o=c.scrollTop;n(27,C=e-(t+o))},x,function(e){return void 0!==e.titleOnly&&n(1,m=e.titleOnly),void 0!==e.confirmText&&n(2,f=e.confirmText),void 0!==e.cancelText&&n(3,h=e.cancelText),void 0!==e.titleText&&n(4,$=e.titleText),void 0!==e.bodyText&&n(5,g=e.bodyText),void 0!==e.bodyHtml&&n(6,b=e.bodyHtml),void 0!==e.titleOnly&&n(1,m=e.titleOnly),void 0!==e.showCancel&&n(7,y=e.showCancel),void 0!==e.describedBy&&n(24,x=e.describedBy),void 0!==e.confirmButtonType&&n(8,v=e.confirmButtonType),void 0!==e.cancelButtonType&&n(9,_=e.cancelButtonType),n(0,u=!0),new Promise(e=>{E=e})},T,C,L,r,i,()=>k&&U(),function(e){R[e?"unshift":"push"](()=>{c=e,n(16,c)})},function(e){R[e?"unshift":"push"](()=>{s=e,n(15,s)})}]}class Xn extends re{constructor(e){super(),ie(this,e,Qn,Jn,r,{id:10,enabled:0,wide:11,titleOnly:1,confirmText:2,cancelText:3,titleText:4,bodyText:5,bodyHtml:6,showCancel:7,scrollBody:12,describedBy:24,confirmButtonType:8,cancelButtonType:9,clickOutsideCloses:13,prompt:25},null,[-1,-1])}get prompt(){return this.$$.ctx[25]}}const Yn=e=>({}),Zn=e=>({}),eo=e=>({}),to=e=>({});function no(e){let t,n,o;const i=e[2].header,r=a(i,e,e[1],to),l=e[2].body,s=a(l,e,e[1],Zn);return{c(){t=y("table"),r&&r.c(),n=x(),s&&s.c(),k(t,"class","prom-list"),k(t,"aria-describedby",e[0])},m(e,i){$(e,t,i),r&&r.m(t,null),h(t,n),s&&s.m(t,null),o=!0},p(e,[n]){r&&r.p&&(!o||2&n)&&p(r,i,e,e[1],o?u(i,e[1],n,eo):m(e[1]),to),s&&s.p&&(!o||2&n)&&p(s,l,e,e[1],o?u(l,e[1],n,Yn):m(e[1]),Zn),(!o||1&n)&&k(t,"aria-describedby",e[0])},i(e){o||(Y(r,e),Y(s,e),o=!0)},o(e){Z(r,e),Z(s,e),o=!1},d(e){e&&g(t),r&&r.d(e),s&&s.d(e)}}}function oo(e,t,n){let{$$slots:o={},$$scope:i}=t,{aria_describedby:r}=t;return e.$$set=e=>{"aria_describedby"in e&&n(0,r=e.aria_describedby),"$$scope"in e&&n(1,i=e.$$scope)},[r,i,o]}class io extends re{constructor(e){super(),ie(this,e,oo,no,r,{aria_describedby:0})}}function ro(e){let t,n,o,i;const r=e[7].default,l=a(r,e,e[6],null);return{c(){t=y("tr"),l&&l.c(),k(t,"class","prom-list-element"),C(t,"prom-list-element--checked",e[0]),C(t,"prom-list-element--header",e[2]),C(t,"prom-list-element--right",e[3]),C(t,"prom-list-element--dragged",e[1])},m(r,s){$(r,t,s),l&&l.m(t,null),n=!0,o||(i=_(t,"click",e[4]),o=!0)},p(e,[o]){l&&l.p&&(!n||64&o)&&p(l,r,e,e[6],n?u(r,e[6],o,null):m(e[6]),null),(!n||1&o)&&C(t,"prom-list-element--checked",e[0]),(!n||4&o)&&C(t,"prom-list-element--header",e[2]),(!n||8&o)&&C(t,"prom-list-element--right",e[3]),(!n||2&o)&&C(t,"prom-list-element--dragged",e[1])},i(e){n||(Y(l,e),n=!0)},o(e){Z(l,e),n=!1},d(e){e&&g(t),l&&l.d(e),o=!1,i()}}}function lo(e,t,n){let{$$slots:o={},$$scope:i}=t;const r=A();let{checked:l=!1}=t,{dragged:s=!1}=t,{header:c=!1}=t,{alignTextRight:a=!1}=t,{checkOnClick:d=!1}=t;return e.$$set=e=>{"checked"in e&&n(0,l=e.checked),"dragged"in e&&n(1,s=e.dragged),"header"in e&&n(2,c=e.header),"alignTextRight"in e&&n(3,a=e.alignTextRight),"checkOnClick"in e&&n(5,d=e.checkOnClick),"$$scope"in e&&n(6,i=e.$$scope)},[l,s,c,a,function(){d&&n(0,l=!l),r("click",{checked:l})},d,i,o]}class so extends re{constructor(e){super(),ie(this,e,lo,ro,r,{checked:0,dragged:1,header:2,alignTextRight:3,checkOnClick:5})}}const co=e=>({}),ao=e=>({}),uo=e=>({}),po=e=>({}),mo=e=>({}),fo=e=>({}),ho=e=>({}),$o=e=>({});function go(e){let t,n,o,i;const r=e[6].data,l=a(r,e,e[5],po),s=e[6]["header-data"],c=a(s,e,e[5],ao);return{c(){t=y("td"),l&&l.c(),n=x(),c&&c.c(),k(t,"class",o="prom-cell__data prom-cell prom-cell__"+e[1]+" prom-cell--priority-"+e[4]),k(t,"colspan",e[2]),k(t,"rowspan",e[3])},m(e,o){$(e,t,o),l&&l.m(t,null),h(t,n),c&&c.m(t,null),i=!0},p(e,n){l&&l.p&&(!i||32&n)&&p(l,r,e,e[5],i?u(r,e[5],n,uo):m(e[5]),po),c&&c.p&&(!i||32&n)&&p(c,s,e,e[5],i?u(s,e[5],n,co):m(e[5]),ao),(!i||18&n&&o!==(o="prom-cell__data prom-cell prom-cell__"+e[1]+" prom-cell--priority-"+e[4]))&&k(t,"class",o),(!i||4&n)&&k(t,"colspan",e[2]),(!i||8&n)&&k(t,"rowspan",e[3])},i(e){i||(Y(l,e),Y(c,e),i=!0)},o(e){Z(l,e),Z(c,e),i=!1},d(e){e&&g(t),l&&l.d(e),c&&c.d(e)}}}function bo(e){let t,n,o,i;const r=e[6].header,l=a(r,e,e[5],$o),s=e[6]["header-data"],c=a(s,e,e[5],fo);return{c(){t=y("th"),l&&l.c(),n=x(),c&&c.c(),k(t,"class",o="prom-cell__header prom-cell prom-cell__"+e[1]+" prom-cell--priority-"+e[4]),k(t,"scope","col"),k(t,"colspan",e[2]),k(t,"rowspan",e[3])},m(e,o){$(e,t,o),l&&l.m(t,null),h(t,n),c&&c.m(t,null),i=!0},p(e,n){l&&l.p&&(!i||32&n)&&p(l,r,e,e[5],i?u(r,e[5],n,ho):m(e[5]),$o),c&&c.p&&(!i||32&n)&&p(c,s,e,e[5],i?u(s,e[5],n,mo):m(e[5]),fo),(!i||18&n&&o!==(o="prom-cell__header prom-cell prom-cell__"+e[1]+" prom-cell--priority-"+e[4]))&&k(t,"class",o),(!i||4&n)&&k(t,"colspan",e[2]),(!i||8&n)&&k(t,"rowspan",e[3])},i(e){i||(Y(l,e),Y(c,e),i=!0)},o(e){Z(l,e),Z(c,e),i=!1},d(e){e&&g(t),l&&l.d(e),c&&c.d(e)}}}function yo(e){let t,n,o,i;const r=[bo,go],l=[];function s(e,t){return e[0]?0:1}return t=s(e),n=l[t]=r[t](e),{c(){n.c(),o=v()},m(e,n){l[t].m(e,n),$(e,o,n),i=!0},p(e,[i]){let c=t;t=s(e),t===c?l[t].p(e,i):(Q(),Z(l[c],1,1,()=>{l[c]=null}),X(),n=l[t],n?n.p(e,i):(n=l[t]=r[t](e),n.c()),Y(n,1),n.m(o.parentNode,o))},i(e){i||(Y(n),i=!0)},o(e){Z(n),i=!1},d(e){l[t].d(e),e&&g(o)}}}function wo(e,t,n){let{$$slots:o={},$$scope:i}=t,{header:r=!1}=t,{type:l}=t,{colspan:s=1}=t,{rowspan:c=1}=t,{priority:a=1}=t;return e.$$set=e=>{"header"in e&&n(0,r=e.header),"type"in e&&n(1,l=e.type),"colspan"in e&&n(2,s=e.colspan),"rowspan"in e&&n(3,c=e.rowspan),"priority"in e&&n(4,a=e.priority),"$$scope"in e&&n(5,i=e.$$scope)},[r,l,s,c,a,i,o]}class xo extends re{constructor(e){super(),ie(this,e,wo,yo,r,{header:0,type:1,colspan:2,rowspan:3,priority:4})}}function vo(e){let t,n,o;return{c(){t=y("span"),n=y("span"),o=w(e[0]),C(n,"prom-text-cell--header-hidden",e[5]),k(t,"slot","header")},m(e,i){$(e,t,i),h(t,n),h(n,o)},p(e,t){1&t&&T(o,e[0]),32&t&&C(n,"prom-text-cell--header-hidden",e[5])},d(e){e&&g(t)}}}function _o(e){let t,n,o,i,r,l,s;return{c(){t=y("span"),n=y("span"),o=w(e[0]),r=x(),l=y("span"),s=w(e[1]),k(n,"class",i="prom-text-cell--"+e[2]),k(t,"slot","data")},m(e,i){$(e,t,i),h(t,n),h(n,o),h(t,r),h(t,l),h(l,s)},p(e,t){1&t&&T(o,e[0]),4&t&&i!==(i="prom-text-cell--"+e[2])&&k(n,"class",i),2&t&&T(s,e[1])},d(e){e&&g(t)}}}function ko(e){let t,n;return t=new xo({props:{header:e[3],priority:e[4],type:"text",colspan:e[6],rowspan:e[7],$$slots:{data:[_o],header:[vo]},$$scope:{ctx:e}}}),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,[n]){const o={};8&n&&(o.header=e[3]),16&n&&(o.priority=e[4]),64&n&&(o.colspan=e[6]),128&n&&(o.rowspan=e[7]),295&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function To(e,t,n){let{text:o=""}=t,{detail:i=""}=t,{textStyle:r="plain"}=t,{header:l=!1}=t,{priority:s=1}=t,{headerHidden:c=!1}=t,{colspan:a=1}=t,{rowspan:d=1}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"detail"in e&&n(1,i=e.detail),"textStyle"in e&&n(2,r=e.textStyle),"header"in e&&n(3,l=e.header),"priority"in e&&n(4,s=e.priority),"headerHidden"in e&&n(5,c=e.headerHidden),"colspan"in e&&n(6,a=e.colspan),"rowspan"in e&&n(7,d=e.rowspan)},[o,i,r,l,s,c,a,d]}class Co extends re{constructor(e){super(),ie(this,e,To,ko,r,{text:0,detail:1,textStyle:2,header:3,priority:4,headerHidden:5,colspan:6,rowspan:7})}}function So(e,t,n){const o=e.slice();return o[5]=t[n],o}function Eo(e){let t,n,o,i;return t=new Co({props:{text:e[2].fileName,header:!0}}),o=new Co({props:{text:e[2].uploadResult,header:!0}}),{c(){te(t.$$.fragment),n=x(),te(o.$$.fragment)},m(e,r){ne(t,e,r),$(e,n,r),ne(o,e,r),i=!0},p(e,n){const i={};4&n&&(i.text=e[2].fileName),t.$set(i);const r={};4&n&&(r.text=e[2].uploadResult),o.$set(r)},i(e){i||(Y(t.$$.fragment,e),Y(o.$$.fragment,e),i=!0)},o(e){Z(t.$$.fragment,e),Z(o.$$.fragment,e),i=!1},d(e){oe(t,e),e&&g(n),oe(o,e)}}}function Fo(e){let t,n,o;return n=new so({props:{header:!0,$$slots:{default:[Eo]},$$scope:{ctx:e}}}),{c(){t=y("thead"),te(n.$$.fragment),k(t,"slot","header")},m(e,i){$(e,t,i),ne(n,t,null),o=!0},p(e,t){const o={};260&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Y(n.$$.fragment,e),o=!0)},o(e){Z(n.$$.fragment,e),o=!1},d(e){e&&g(t),oe(n)}}}function Oo(e){let t,n;return t=new Co({props:{text:e[2].fileInProgress,textStyle:"neutral"}}),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.text=e[2].fileInProgress),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Io(e){let t,n;return t=new Co({props:{text:e[2].fileAdded,textStyle:"status-positive"}}),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.text=e[2].fileAdded),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Lo(e){let t,n;return t=new Co({props:{text:e[2][e[5].error+"Error"],textStyle:"status-negative"}}),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};6&n&&(o.text=e[2][e[5].error+"Error"]),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Ao(e){let t,n,o,i,r,l;t=new Co({props:{text:e[5].name,textStyle:"title"}});const s=[Lo,Io,Oo],c=[];function a(e,t){return e[5].error?0:e[5].success?1:2}return o=a(e),i=c[o]=s[o](e),{c(){te(t.$$.fragment),n=x(),i.c(),r=x()},m(e,i){ne(t,e,i),$(e,n,i),c[o].m(e,i),$(e,r,i),l=!0},p(e,n){const l={};2&n&&(l.text=e[5].name),t.$set(l);let d=o;o=a(e),o===d?c[o].p(e,n):(Q(),Z(c[d],1,1,()=>{c[d]=null}),X(),i=c[o],i?i.p(e,n):(i=c[o]=s[o](e),i.c()),Y(i,1),i.m(r.parentNode,r))},i(e){l||(Y(t.$$.fragment,e),Y(i),l=!0)},o(e){Z(t.$$.fragment,e),Z(i),l=!1},d(e){oe(t,e),e&&g(n),c[o].d(e),e&&g(r)}}}function Po(e){let t,n;return t=new so({props:{checkOnClick:!1,$$slots:{default:[Ao]},$$scope:{ctx:e}}}),{c(){te(t.$$.fragment)},m(e,o){ne(t,e,o),n=!0},p(e,n){const o={};262&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Uo(e){let t,n,o=e[1],i=[];for(let t=0;t<o.length;t+=1)i[t]=Po(So(e,o,t));const r=e=>Z(i[e],1,1,()=>{i[e]=null});return{c(){t=y("tbody");for(let e=0;e<i.length;e+=1)i[e].c();k(t,"slot","body")},m(e,o){$(e,t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);n=!0},p(e,n){if(6&n){let l;for(o=e[1],l=0;l<o.length;l+=1){const r=So(e,o,l);i[l]?(i[l].p(r,n),Y(i[l],1)):(i[l]=Po(r),i[l].c(),Y(i[l],1),i[l].m(t,null))}for(Q(),l=o.length;l<i.length;l+=1)r(l);X()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)Y(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Z(i[e]);n=!1},d(e){e&&g(t),b(i,e)}}}function Ro(e){let t,n,o;return n=new io({props:{$$slots:{body:[Uo],header:[Fo]},$$scope:{ctx:e}}}),{c(){t=y("div"),te(n.$$.fragment),k(t,"slot","body")},m(e,i){$(e,t,i),ne(n,t,null),o=!0},p(e,t){const o={};262&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Y(n.$$.fragment,e),o=!0)},o(e){Z(n.$$.fragment,e),o=!1},d(e){e&&g(t),oe(n)}}}function No(e){let t,n,o;function i(t){e[4](t)}let r={confirmText:e[2].close,titleText:e[2].failedAddModalTitle,confirmButtonType:"secondary",showCancel:!1,$$slots:{body:[Ro]},$$scope:{ctx:e}};return void 0!==e[0]&&(r.enabled=e[0]),t=new Xn({props:r}),R.push(()=>ee(t,"enabled",i)),{c(){te(t.$$.fragment)},m(e,n){ne(t,e,n),o=!0},p(e,[o]){const i={};4&o&&(i.confirmText=e[2].close),4&o&&(i.titleText=e[2].failedAddModalTitle),262&o&&(i.$$scope={dirty:o,ctx:e}),!n&&1&o&&(n=!0,i.enabled=e[0],z(()=>n=!1)),t.$set(i)},i(e){o||(Y(t.$$.fragment,e),o=!0)},o(e){Z(t.$$.fragment,e),o=!1},d(e){oe(t,e)}}}function Bo(e,t,n){let o,i;c(e,ce,e=>n(3,i=e));let{files:r=[]}=t,{enabled:l}=t;return e.$$set=e=>{"files"in e&&n(1,r=e.files),"enabled"in e&&n(0,l=e.enabled)},e.$$.update=()=>{8&e.$$.dirty&&n(2,o=i.i18n)},[l,r,o,i,function(e){l=e,n(0,l)}]}class Do extends re{constructor(e){super(),ie(this,e,Bo,No,r,{files:1,enabled:0})}}function qo(e){let t,n,o,i,r,l;function s(t){e[3](t)}n=new An({props:{files:e[1].filesStatus,resourcesUrl:e[1].resourcesUrl,singleResourceUrl:e[1].singleResourceUrl}}),n.$on("showMoreInfo",e[2]);let c={files:e[1].filesStatus};return void 0!==e[0]&&(c.enabled=e[0]),i=new Do({props:c}),R.push(()=>ee(i,"enabled",s)),{c(){t=y("div"),te(n.$$.fragment),o=x(),te(i.$$.fragment),k(t,"class","contentarea-feedback")},m(e,r){$(e,t,r),ne(n,t,null),h(t,o),ne(i,t,null),l=!0},p(e,[t]){const o={};2&t&&(o.files=e[1].filesStatus),2&t&&(o.resourcesUrl=e[1].resourcesUrl),2&t&&(o.singleResourceUrl=e[1].singleResourceUrl),n.$set(o);const l={};2&t&&(l.files=e[1].filesStatus),!r&&1&t&&(r=!0,l.enabled=e[0],z(()=>r=!1)),i.$set(l)},i(e){l||(Y(n.$$.fragment,e),Y(i.$$.fragment,e),l=!0)},o(e){Z(n.$$.fragment,e),Z(i.$$.fragment,e),l=!1},d(e){e&&g(t),oe(n),oe(i)}}}function Ho(e,t,n){let o;c(e,ce,e=>n(1,o=e));let{showInfoModal:i=!1}=t;return e.$$set=e=>{"showInfoModal"in e&&n(0,i=e.showInfoModal)},[i,o,async function(){n(0,i=!0),await(H(),D),document.querySelector(".contentarea-feedback__more-info").focus()},function(e){i=e,n(0,i)}]}class Mo extends re{constructor(e){super(),ie(this,e,Ho,qo,r,{showInfoModal:0})}}function zo(e){let t;return{c(){t=w(e[3])},m(e,n){$(e,t,n)},p(e,n){8&n&&T(t,e[3])},d(e){e&&g(t)}}}function Vo(e){let t,n;return{c(){t=new S(!1),n=v(),t.a=n},m(o,i){t.m(e[3],o,i),$(o,n,i)},p(e,n){8&n&&t.p(e[3])},d(e){e&&g(n),e&&t.d()}}}function Go(e){let t;function n(e,t){return e[4]?Vo:zo}let o=n(e),i=o(e);return{c(){t=y("span"),i.c()},m(e,n){$(e,t,n),i.m(t,null)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&g(t),i.d()}}}function jo(e){let t,n,o,i,r,l;function s(t){e[9](t)}let c={close:e[1].i18n.close,type:e[2],$$slots:{default:[Go]},$$scope:{ctx:e}};return void 0!==e[0]&&(c.visible=e[0]),n=new vn({props:c}),R.push(()=>ee(n,"visible",s)),n.$on("hidden",Wo),{c(){t=y("div"),te(n.$$.fragment)},m(o,s){$(o,t,s),ne(n,t,null),i=!0,r||(l=_(t,"click",e[5]),r=!0)},p(e,[t]){const i={};2&t&&(i.close=e[1].i18n.close),4&t&&(i.type=e[2]),32792&t&&(i.$$scope={dirty:t,ctx:e}),!o&&1&t&&(o=!0,i.visible=e[0],z(()=>o=!1)),n.$set(i)},i(e){i||(Y(n.$$.fragment,e),i=!0)},o(e){Z(n.$$.fragment,e),i=!1},d(e){e&&g(t),oe(n),r=!1,l()}}}function Wo(){window.setIframeDefaultHeight()}function Ko(e,t,n){let o,i,r,l;c(e,ce,e=>n(1,l=e));let{bannerVisible:s=!1}=t,{plannerUrl:a=""}=t,{uploadStatus:d=dn.none}=t,{uploadStatusPollingTimerId:u=0}=t;var p;function m(){const{courseId:e}=l;(function(e){return Vt(Jt.getPlannerFilesUploadStatus(e)).then(e=>e)})(e).then(e=>{n(7,d=e.status),e.status!==dn.inProgress&&h()})}function f(){const{pollingIntervalOfMultipleFilesUploadStatusInMilliseconds:e}=l;if(0===u&&d===dn.inProgress){const t=setInterval(()=>{m()},e);n(8,u=t)}}function h(){clearInterval(u),n(8,u=0)}return I(()=>{m(),f(),function(e,t,n,o){e.addEventListener("message",i=>{if((!o||i.origin===e.location.origin)&&i.data)try{const e=JSON.parse(i.data);e&&e.messageName&&e.messageName===t&&n(e)}catch(e){}})}(window,"showMultipleFilesUploadToPlannerFeedback",e=>{!0===e.uploadStarted&&n(7,d=dn.inProgress),f()}),n(6,a=l.plannerUrl)}),p=()=>h(),O().$$.on_destroy.push(p),e.$$set=e=>{"bannerVisible"in e&&n(0,s=e.bannerVisible),"plannerUrl"in e&&n(6,a=e.plannerUrl),"uploadStatus"in e&&n(7,d=e.uploadStatus),"uploadStatusPollingTimerId"in e&&n(8,u=e.uploadStatusPollingTimerId)},e.$$.update=()=>{128&e.$$.dirty&&n(0,s=d!==dn.none),128&e.$$.dirty&&n(4,o=d===dn.success),194&e.$$.dirty&&n(3,i=function(e,t,n){switch(e){case dn.none:return"";case dn.inProgress:return t.addedFilesInProgress;case dn.success:return function(e,t){return e=(e=e.replace("{0}",`<a\n            class="files__planner-link"\n            href="${t}"\n            target="mainmenu">`)).replace("{1}","</a>")}(t.addedFilesSuccess,n);case dn.error:return t.addedFilesError}}(d,l.i18n,a)),128&e.$$.dirty&&n(2,r=function(e){switch(e){case dn.none:return"";case dn.inProgress:return"loading";case dn.success:return"success";case dn.error:return"warning"}}(d))},[s,l,r,i,o,function(e){e.target.classList.contains("files__planner-link")&&n(0,s=!1)},a,d,u,function(e){s=e,n(0,s),n(7,d)}]}class Jo extends re{constructor(e){super(),ie(this,e,Ko,jo,r,{bannerVisible:0,plannerUrl:6,uploadStatus:7,uploadStatusPollingTimerId:8})}}const Qo=0,Xo=1,Yo=2;function Zo(e,t,n=!0,o=null,i=660,r=550){const l=new URL(e),s=ut();return l.searchParams.append("target",s),l.searchParams.append("mode",JSON.stringify({allowToSelectMultipleFiles:n,allowedFileExtensions:o,allowCollaboration:!1,purpose:t})),function(e,t,n){const o=window.screenX+window.innerWidth/2-t/2,i=window.screenY+window.innerHeight/2-n/2,r=window.open(e,"",`top=${i},left=${o},height=${n},width=${t},location=no,resizable=yes,toolbar=no,scrollbars=yes,status=no,menubar=no`);r.focus&&r.focus()}(l.href,i,r),new Promise((e,t)=>{window.addEventListener("message",t=>{t.data&&t.data.target===s&&e(t.data)})})}const ei=2,ti=4;class ni{constructor({downloadUrl:e,editUrl:t,id:n,isRegisteredWithCasper:o,isSupportedByCasper:i,isTemplate:r,mimeType:l,name:s,oAuthContext:c,sourceType:a,viewUrl:d}){this.downloadUrl=e,this.editUrl=t,this.id=n,this.isRegisteredWithCasper=o,this.isSupportedByCasper=i,this.isTemplate=r,this.mimeType=l,this.name=s,this.oAuthContext=c,this.sourceType=a,this.viewUrl=d}static fromGoogle(e,t){const n="https://drive.google.com/uc?export=download&id={fileId}".replace("{fileId}",e.id);return new ni({downloadUrl:n,editUrl:e.url,id:e.id,isRegisteredWithCasper:!1,isSupportedByCasper:!0,isTemplate:!1,mimeType:e.mimeType,name:e.name,oAuthContext:t,sourceType:ei,viewUrl:e.url})}static fromOneDrive(e,t){return new ni({downloadUrl:null,editUrl:e.url,id:e.id,isRegisteredWithCasper:!1,isSupportedByCasper:!0,isTemplate:!1,mimeType:e.mimeType,name:e.name,oAuthContext:t,sourceType:e.sourceType,viewUrl:e.url})}}const oi={unknown:"unknown",tooLarge:"tooLarge",tooSmall:"tooSmall",nameTooLong:"nameTooLong",invalidFileName:"invalidFileName",invalidExtension:"invalidExtension"};function ii(e,t,n,o){if(e.length>o)return{valid:!1,error:oi.nameTooLong};if(""===e.trim())return{valid:!1,error:oi.invalidFileName};for(const t of n)if(-1!==e.indexOf(t))return{valid:!1,error:oi.invalidFileName};const i=e.split(".").pop().toLowerCase();return-1!==t.indexOf(i)?{valid:!1,error:oi.invalidExtension}:{valid:!0,error:void 0}}class ri{constructor({name:e,elementId:t,cloudId:n,success:o,error:i,fileRepoFile:r,cloudFile:l}){this.name=e,this.elementId=t,this.cloudId=n,this.success=o,this.error=i,this.fileRepoFile=r,this.cloudFile=l}static fromApi(e){const t=new ri({name:e.Title,elementId:e.ElementId,cloudId:e.CloudId,success:e.Success,error:void 0});if(!e.Success){const n=e.ErrorCodes&&e.ErrorCodes.length?e.ErrorCodes[0]:void 0,o={1:oi.invalidExtension,2:oi.invalidFileName,3:oi.tooLarge,10:oi.invalidFileName,11:oi.invalidFileName,14:oi.nameTooLong,17:oi.invalidFileType,28:oi.invalidFileType}[n];t.error=void 0===o?oi.unknown:o}return t}}class li{constructor({id:e,name:t,mimeType:n,signedFileRepoId:o,signature:i,error:r}){this.id=e,this.name=t,this.sourceType=ti,this.mimeType=n,this.signedFileRepoId=o,this.signature=i,this.error=r}static fromFileRepo(e){let t=null;if(e.error){const n={InvalidPathCharacters:oi.invalidFileName,ExtensionNotAllowed:oi.invalidExtension,FileSizeTooLarge:oi.tooLarge,FileSizeTooSmall:oi.tooSmall}[e.error];t=void 0===n?"unknown":n}return new li({id:e.fileGuid,name:e.fileName,mimeType:e.mimeType,signedFileRepoId:e.signedFileRepoId,signature:e.signedGuid,error:t})}}function si(e,t,n,o,i,r,l,s){return function(e,t=!0,n=null,o=660,i=550){return Zo(e,Xo,t,n,o,i)}(new URL(n,window.location.origin).href,o).then(({oAuthContext:n,files:o})=>{const c=o.map(e=>ni.fromGoogle(e,n));return ai(e,t,c,i,r,l,s)})}function ci(e,t,n,o,i,r,l,s,c,a,d=!0,u=!0){const p=new URL(n,window.location.origin);let m=Yo;return!d&&u?m=Xo:d&&!u&&(m=Qo),Zo(p.href,m,o).then(({oAuthContext:n,files:o,isLinkMode:d})=>{if(d){const l=o.map(e=>ni.fromOneDrive(e,n));return ai(e,t,l,i,r,s,a)}return di(e,t,o,i,r,e=>pi(e,l).then(t=>function(e,t,n,o,i,r){const l={Url:t,Name:n,Size:o,SourceType:i};return zt(r.endpoint,l,{headers:{[r.authorizationHeaderKey]:"Bearer "+r.token,[r.validationHeaderKey]:r.validationHeader,[r.publicUploadFromExternalSourceHeaderKey]:r.publicUploadFromExternalSourceHeader,Accept:"application/json, text/javascript, */*; q=0.01"}}).then(t=>{const o=li.fromFileRepo(t);return t.error?{...o,name:n,originalFileId:e,sourceType:i}:{...o,originalFileId:e,sourceType:i}}).catch(t=>({name:n,originalFileId:e,sourceType:i,error:oi.unknown}))}(e.id,e.url,e.name,e.size,e.sourceType,t)),c,a)})}function ai(e,t,n,o,i,r,l){return function(e,t,n,o,i){const r=o.replace("{courseId}",e).replace("{folderId}",t),l={[i.headerName]:i.headerValue};return zt(r,n,{headers:l}).then(e=>e.map(e=>ri.fromApi(e)))}(e,t,n=n.filter(e=>{l(e);const t=ii(e.name,o.invalidExtensions,[],o.maxFileNameLength);return t.valid||l({name:e.name,error:t.error}),t.valid}),r,i).then(e=>(e.forEach(e=>{l(e)}),e.forEach(e=>{const t=n.find(t=>t.id===e.cloudId);t&&(e.cloudFile=t)}),e)).catch(e=>{throw n.forEach(e=>{l({name:e.name,error:oi.unknown})}),e})}function di(e,t,n,o,i,r,l,s){const c=[];n.forEach(e=>s(e)),n=n.filter(e=>{const t=function(e,{invalidExtensions:t,invalidFileNameCharacters:n,maxFileNameLength:o,maxFileSizeBytes:i}){return e.size>i?{valid:!1,error:oi.tooLarge}:e.size<=0?{valid:!1,error:oi.tooSmall}:ii(e.name,t,n,o)}(e,o);return t.valid||s({name:e.name,error:t.error}),t.valid});const a=function(o){if(0===n.length)return void o();const d=n.pop();r(d).then(n=>{if(n.error)return s({...n,name:d.name}),void a(o);(function(e,t,n,o,i){return zt(o.replace("{courseId}",e).replace("{folderId}",t),n,{headers:{[i.headerName]:i.headerValue}}).then(e=>e.map(e=>ri.fromApi(e)))})(e,t,[n],l,i).then(e=>{e.forEach(e=>{s(e),e.fileRepoFile=n,c.push(e)}),a(o)})}).catch(()=>{s({name:d.name,error:oi.unknown}),a(o)})},d=new Promise(e=>a(e)),u=new Promise(e=>a(e));return Promise.all([d,u]).then(()=>c)}function ui(e,t,n,o,i,r,l,s){return di(e,t,n,o,i,e=>pi(e,r).then(t=>function(e,t,n){n=n||e.name;const o=new FormData;return o.append("file",e,n),fetch(t.endpoint,{body:o,method:"POST",mode:"cors",headers:{[t.authorizationHeaderKey]:"Bearer "+t.token,[t.validationHeaderKey]:t.validationHeader,[t.publicUploadHeaderKey]:t.publicUploadHeader,Accept:"application/json, text/javascript, */*; q=0.01"}}).then(Gt).then(e=>e.error?Object.assign({name:n},li.fromFileRepo(e)):li.fromFileRepo(e)).catch(e=>({name:n,error:oi.unknown}))}(e,t)),l,s)}function pi(e,t){return function(e,t,n){return Vt(t.replace("~","")+"?FileName="+encodeURIComponent(e.name)).then(e=>e).catch(()=>n)}(e,t.tokenProviderEndpoint,t.token).then(e=>(t.token=e,t))}const mi="/restapi/personal/courses/measurefilelinkingkpi/v1",fi="/restapi/personal/courses/measurefileuploadkpi/v1";function hi(e,t,n){n&&n.length>0&&function(e,t,n){zt(e,n,{headers:{[t.headerName]:t.headerValue}})}(e,t,n)}function $i(e){let{filesStatus:t}=ae(),n=!1;t=t.map(t=>t.name===e.name?(n=!0,e):t),n||t.push(e),de({filesStatus:t})}function gi(){de({apiError:!1});const{filesStatus:e}=ae();e.every(e=>e.error||e.success)&&de({filesStatus:[]})}function bi(e,t,n){const{recentCloudFiles:o,courseId:i,folderId:r,fileValidationSettings:l,antiForgeryHeaderSettings:s}=ae();(function(e,t,n,o,i,r,l){return ai(e,t,[new ni({downloadUrl:null,editUrl:n.viewUrl,id:n.id,isRegisteredWithCasper:!1,isSupportedByCasper:!0,isTemplate:!1,mimeType:n.mimeType,name:n.name,oAuthContext:n.oAuthContext,sourceType:n.sourceType,viewUrl:n.viewUrl})],o,i,r,l)})(i,r,o[t].find(t=>t.id===e),l,s,Jt.addCloudFilesToCourseFolder,$i).then(e=>yi(e,n)).catch(wi)}function yi(e,t){const n=document.querySelector(Xt.quickAddButton),o=document.querySelector(Xt.modal);n&&!o&&n.focus(),t&&t(),function(e,t){const n=t.filter(e=>e.cloudFile).map(e=>e.cloudFile),o=t.filter(e=>e.fileRepoFile).map(e=>e.fileRepoFile);hi(mi,e,n),hi(fi,e,o)}(ae().antiForgeryHeaderSettings,e)}function wi(e){console.error(e),de({apiError:!0})}function xi(e){const t=ae().kpis[e];t&&function(e,t,n){const{antiForgeryHeaderSettings:o,kpiUrl:i}=ae();zt(i,{measureSection:e,measurement:t,measureContext:n},{headers:{[o.headerName]:o.headerValue}})}(t.measureSection,t.measurement,t.measureContext)}function vi(e){const t=()=>{const e=document.querySelector("#link-resources");e.classList.contains("active")&&e.click()};switch(e.source){case"OneDrive":!function(e){gi();const{courseId:t,folderId:n,cloudServiceSettings:o,fileValidationSettings:i,antiForgeryHeaderSettings:r,fileRepoSettings:l,enableUploadFromOneDrive:s,enableLinkingFromOneDrive:c}=ae();ci(t,n,o.OneDrive.pickerUrl,!0,i,r,l,Jt.addCloudFilesToCourseFolder,Jt.addFileRepoFilesToCourseFolder,$i,s,c).then(t=>yi(t,e)).catch(wi)}(t);break;case"GoogleDrive":!function(e){gi();const{courseId:t,folderId:n,cloudServiceSettings:o,fileValidationSettings:i,antiForgeryHeaderSettings:r}=ae();si(t,n,o.GoogleDrive.pickerUrl,!0,i,r,Jt.addCloudFilesToCourseFolder,$i).then(t=>yi(t,e)).catch(wi)}(t);break;case"RecentGoogleDrive":bi(e.elementId,e.cloudProvider,t);break;case"Computer":!function(e,t){gi();const{courseId:n,folderId:o,fileValidationSettings:i,fileRepoSettings:r,antiForgeryHeaderSettings:l}=ae();ui(n,o,e,i,l,r,Jt.addFileRepoFilesToCourseFolder,$i).then(e=>yi(e,t)).catch(wi)}(e.files,t)}}document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("contentarea-planner-bannerfeedback");e&&new Jo({target:e});const t=document.getElementById("contentarea-bannerfeedback"),n=document.getElementById("contentarea-actionlist");if(!n)return;new fn({target:n,props:{addViewCallback:vi,kpiCallback:xi}}),new Mo({target:t}),window.store=ce}));
//# sourceMappingURL=index.bundle.js.map
